<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.26">
<meta name="description" content="The goal of the CLARIN Federated Content Search (CLARIN-FCS) - Core specification is to introduce an interface specification that decouples the search engine functionality from its exploitation, i.e. user-interfaces, third-party applications, and to allow services to access heterogeneous search engines in a uniform way.">
<meta name="author" content="Oliver Schonefeld, Thomas Eckart, Thomas Kisler, Christoph Draxler, Kai Zimmer, Matej Ďurčo, Yana Panchenko, Hanna Hedeland, Andre Blessing, Olha Shkaravska, Leif-Jöran Olsson, Peter M. Fischer, Erik Körner">
<title>CLARIN Federated Content Search (CLARIN-FCS) - Core 1.0</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/*! Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment the following line when using as a custom stylesheet */
/* @import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700"; */
html{font-family:sans-serif;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
b,strong{font-weight:bold}
abbr{font-size:.9em}
abbr[title]{cursor:help;border-bottom:1px dotted #dddddf;text-decoration:none}
dfn{font-style:italic}
hr{height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type=checkbox],input[type=radio]{padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,::before,::after{box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;line-height:1;position:relative;cursor:auto;-moz-tab-size:4;-o-tab-size:4;tab-size:4;word-wrap:anywhere;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ul.square{list-style-type:square}
ul.circle ul:not([class]),ul.disc ul:not([class]),ul.square ul:not([class]){list-style:inherit}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:1px solid #dedede;word-wrap:normal}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre).nobreak{word-wrap:normal}
:not(pre).nowrap{white-space:nowrap}
:not(pre).pre-wrap{white-space:pre-wrap}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;border-radius:3px;box-shadow:0 1px 0 rgba(0,0,0,.2),inset 0 0 0 .1em #fff;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin:0 auto;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child{border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:flex;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border:1px solid #e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:none;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:hsla(0,0%,100%,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details{margin-left:1.25rem}
details>summary{cursor:pointer;display:block;position:relative;line-height:1.6;margin-bottom:.625rem;outline:none;-webkit-tap-highlight-color:transparent}
details>summary::-webkit-details-marker{display:none}
details>summary::before{content:"";border:solid transparent;border-left:solid;border-width:.3em 0 .3em .5em;position:absolute;top:.5em;left:-1.25rem;transform:translateX(15%)}
details[open]>summary::before{border:solid transparent;border-top:solid;border-width:.5em .3em 0;transform:translateY(15%)}
details>summary::after{content:"";width:1.25rem;height:1em;position:absolute;top:.3em;left:-1.25rem}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class=paragraph]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6);word-wrap:anywhere}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border:1px solid #e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;border-radius:4px}
.sidebarblock{border:1px solid #dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;border-radius:4px}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:first-child,.sidebarblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child,.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{border-radius:4px;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class=highlight],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock pre>code{display:block}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos,pre.pygments .linenos{border-right:1px solid;opacity:.35;padding-right:.5em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}
pre.pygments span.linenos{display:inline-block;margin-right:.75em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans-serif;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;font-size:.85rem;text-align:left;margin-right:0}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:1.25em;word-wrap:anywhere}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>*>tr>*{border-width:1px}
table.grid-cols>*>tr>*{border-width:0 1px}
table.grid-rows>*>tr>*{border-width:1px 0}
table.frame-all{border-width:1px}
table.frame-ends{border-width:1px 0}
table.frame-sides{border-width:0 1px}
table.frame-none>colgroup+*>:first-child>*,table.frame-sides>colgroup+*>:first-child>*{border-top-width:0}
table.frame-none>:last-child>:last-child>*,table.frame-sides>:last-child>:last-child>*{border-bottom-width:0}
table.frame-none>*>tr>:first-child,table.frame-ends>*>tr>:first-child{border-left-width:0}
table.frame-none>*>tr>:last-child,table.frame-ends>*>tr>:last-child{border-right-width:0}
table.stripes-all>*>tr,table.stripes-odd>*>tr:nth-of-type(odd),table.stripes-even>*>tr:nth-of-type(even),table.stripes-hover>*>tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
li>p:empty:only-child::before{content:"";display:inline-block}
ul.checklist>li>p:first-child{margin-left:-1em}
ul.checklist>li>p:first-child>.fa-square-o:first-child,ul.checklist>li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist>li>p:first-child>input[type=checkbox]:first-child{margin-right:.25em}
ul.inline{display:flex;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
td.hdlist2{word-wrap:anywhere}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:4px solid #fff;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active,#footnotes .footnote a:first-of-type:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);border-radius:50%;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt,summary{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,td.hdlist1,span.alt,summary{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]{border-bottom:1px dotted}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#header,#content,#footnotes,#footer{max-width:none}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media amzn-kf8,print{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
<style>
pre.rouge table td { padding: 5px; }
pre.rouge table pre { margin: 0; }
pre.rouge, pre.rouge .w {
  color: #24292f;
  background-color: #f6f8fa;
}
pre.rouge .k, pre.rouge .kd, pre.rouge .kn, pre.rouge .kp, pre.rouge .kr, pre.rouge .kt, pre.rouge .kv {
  color: #cf222e;
}
pre.rouge .gr {
  color: #f6f8fa;
}
pre.rouge .gd {
  color: #82071e;
  background-color: #ffebe9;
}
pre.rouge .nb {
  color: #953800;
}
pre.rouge .nc {
  color: #953800;
}
pre.rouge .no {
  color: #953800;
}
pre.rouge .nn {
  color: #953800;
}
pre.rouge .sr {
  color: #116329;
}
pre.rouge .na {
  color: #116329;
}
pre.rouge .nt {
  color: #116329;
}
pre.rouge .gi {
  color: #116329;
  background-color: #dafbe1;
}
pre.rouge .ges {
  font-weight: bold;
  font-style: italic;
}
pre.rouge .kc {
  color: #0550ae;
}
pre.rouge .l, pre.rouge .ld, pre.rouge .m, pre.rouge .mb, pre.rouge .mf, pre.rouge .mh, pre.rouge .mi, pre.rouge .il, pre.rouge .mo, pre.rouge .mx {
  color: #0550ae;
}
pre.rouge .sb {
  color: #0550ae;
}
pre.rouge .bp {
  color: #0550ae;
}
pre.rouge .ne {
  color: #0550ae;
}
pre.rouge .nl {
  color: #0550ae;
}
pre.rouge .py {
  color: #0550ae;
}
pre.rouge .nv, pre.rouge .vc, pre.rouge .vg, pre.rouge .vi, pre.rouge .vm {
  color: #0550ae;
}
pre.rouge .o, pre.rouge .ow {
  color: #0550ae;
}
pre.rouge .gh {
  color: #0550ae;
  font-weight: bold;
}
pre.rouge .gu {
  color: #0550ae;
  font-weight: bold;
}
pre.rouge .s, pre.rouge .sa, pre.rouge .sc, pre.rouge .dl, pre.rouge .sd, pre.rouge .s2, pre.rouge .se, pre.rouge .sh, pre.rouge .sx, pre.rouge .s1, pre.rouge .ss {
  color: #0a3069;
}
pre.rouge .nd {
  color: #8250df;
}
pre.rouge .nf, pre.rouge .fm {
  color: #8250df;
}
pre.rouge .err {
  color: #f6f8fa;
  background-color: #82071e;
}
pre.rouge .c, pre.rouge .ch, pre.rouge .cd, pre.rouge .cm, pre.rouge .cp, pre.rouge .cpf, pre.rouge .c1, pre.rouge .cs {
  color: #6e7781;
}
pre.rouge .gl {
  color: #6e7781;
}
pre.rouge .gt {
  color: #6e7781;
}
pre.rouge .ni {
  color: #24292f;
}
pre.rouge .si {
  color: #24292f;
}
pre.rouge .ge {
  color: #24292f;
  font-style: italic;
}
pre.rouge .gs {
  color: #24292f;
  font-weight: bold;
}
</style>
</head>
<body class="book">
<div id="header">
<h1>CLARIN Federated Content Search (CLARIN-FCS) - Core 1.0</h1>
<div class="details">
<span id="author" class="author">Oliver Schonefeld</span><br>
<span id="email" class="email"><a href="mailto:schonefeld@ids-mannheim.de">schonefeld@ids-mannheim.de</a></span><br>
<span id="author2" class="author">Thomas Eckart</span><br>
<span id="email2" class="email"><a href="mailto:eckart@saw-leipzig.de">eckart@saw-leipzig.de</a></span><br>
<span id="author3" class="author">Thomas Kisler</span><br>
<span id="email3" class="email"><a href="mailto:thomas@kisler.de">thomas@kisler.de</a></span><br>
<span id="author4" class="author">Christoph Draxler</span><br>
<span id="email4" class="email"><a href="mailto:draxler@phonetik.uni-muenchen.de">draxler@phonetik.uni-muenchen.de</a></span><br>
<span id="author5" class="author">Kai Zimmer</span><br>
<span id="email5" class="email"><a href="mailto:zimmer@bbaw.de">zimmer@bbaw.de</a></span><br>
<span id="author6" class="author">Matej Ďurčo</span><br>
<span id="email6" class="email"><a href="mailto:matej.durco@oeaw.ac.at">matej.durco@oeaw.ac.at</a></span><br>
<span id="author7" class="author">Yana Panchenko</span><br>
<span id="email7" class="email"><a href="mailto:yana.panchenko@uni-tuebingen.de">yana.panchenko@uni-tuebingen.de</a></span><br>
<span id="author8" class="author">Hanna Hedeland</span><br>
<span id="email8" class="email"><a href="mailto:hedeland@ids-mannheim.de">hedeland@ids-mannheim.de</a></span><br>
<span id="author9" class="author">Andre Blessing</span><br>
<span id="email9" class="email"><a href="mailto:andre.blessing@ims.uni-stuttgart.de">andre.blessing@ims.uni-stuttgart.de</a></span><br>
<span id="author10" class="author">Olha Shkaravska</span><br>
<span id="email10" class="email"><a href="mailto:Olha.Shkaravska@mpi.nl">Olha.Shkaravska@mpi.nl</a></span><br>
<span id="author11" class="author">Leif-Jöran Olsson</span><br>
<span id="email11" class="email"><a href="mailto:leif-joran.olsson@svenska.gu.se">leif-joran.olsson@svenska.gu.se</a></span><br>
<span id="author12" class="author">Peter M. Fischer</span><br>
<span id="email12" class="email"><a href="mailto:fisseni@ids-mannheim.de">fisseni@ids-mannheim.de</a></span><br>
<span id="author13" class="author">Erik Körner</span><br>
<span id="email13" class="email"><a href="mailto:koerner@saw-leipzig.de">koerner@saw-leipzig.de</a></span><br>
<span id="revnumber">version 1.0,</span>
<span id="revdate">2018-09-06</span>
</div>
<div id="toc" class="toc">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_introduction">1. Introduction</a>
<ul class="sectlevel2">
<li><a href="#_terminology">1.1. Terminology</a></li>
<li><a href="#_glossary">1.2. Glossary</a></li>
<li><a href="#_normative_references">1.3. Normative References</a></li>
<li><a href="#_non_normative_references">1.4. Non-Normative References</a></li>
<li><a href="#_typographic_and_xml_namespace_conventions">1.5. Typographic and XML Namespace conventions</a></li>
</ul>
</li>
<li><a href="#_clarin_fcs_interface_specification">2. CLARIN-FCS Interface Specification</a>
<ul class="sectlevel2">
<li><a href="#_capabilities">2.1. Capabilities</a></li>
<li><a href="#_result_format">2.2. Result Format</a>
<ul class="sectlevel3">
<li><a href="#_resource_and_resourcefragment">2.2.1. Resource and ResourceFragment</a></li>
<li><a href="#_data_view">2.2.2. Data View</a>
<ul class="sectlevel4">
<li><a href="#_generic_hits_hits">2.2.2.1. Generic Hits (HITS)</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_endpoint_description">2.3. Endpoint Description</a></li>
<li><a href="#_endpoint_custom_extension">2.4. Endpoint Custom Extension</a></li>
</ul>
</li>
<li><a href="#_clarin_fcs_to_srucql_binding">3. CLARIN-FCS to SRU/CQL binding</a>
<ul class="sectlevel2">
<li><a href="#_srucql">3.1. SRU/CQL</a></li>
<li><a href="#_operation_explain">3.2. Operation <em>explain</em></a></li>
<li><a href="#_operation_scan">3.3. Operation <em>scan</em></a></li>
<li><a href="#_operation_searchretrieve">3.4. Operation <em>searchRetrieve</em></a></li>
</ul>
</li>
<li><a href="#_normative_appendix">A. Normative Appendix</a>
<ul class="sectlevel2">
<li><a href="#_list_of_extra_request_parameters">A.1. List of extra request parameters</a></li>
<li><a href="#_list_of_diagnostics">A.2. List of diagnostics</a></li>
</ul>
</li>
<li><a href="#_non_normative_appendix">B. Non-normative Appendix</a>
<ul class="sectlevel2">
<li><a href="#_syntax_variant_for_handle_system_persistent_identifier_uris">B.1. Syntax variant for Handle system Persistent Identifier URIs</a></li>
<li><a href="#_referring_to_an_endpoint_from_a_cmdi_record">B.2. Referring to an Endpoint from a CMDI record</a></li>
<li><a href="#_endpoint_custom_extensions">B.3. Endpoint custom extensions</a></li>
<li><a href="#_endpoint_highlight_hints_for_repositories">B.4. Endpoint highlight hints for repositories</a></li>
</ul>
</li>
<li><a href="#_changelog">Changelog</a></li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1">
<h2 id="_introduction">1. Introduction</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The goal of the <em>CLARIN Federated Content Search (CLARIN-FCS) - Core</em> specification is to introduce an <em>interface specification</em> that decouples the <em>search engine</em> functionality from its <em>exploitation</em>, i.e. user-interfaces, third-party applications, and to allow services to access heterogeneous search engines in a uniform way.</p>
</div>
<div class="sect2">
<h3 id="_terminology">1.1. Terminology</h3>
<div class="paragraph">
<p>The key words <code>MUST</code>, <code>MUST NOT</code>, <code>REQUIRED</code>, <code>SHALL</code>, <code>SHALL NOT</code>, <code>SHOULD</code>, <code>SHOULD NOT</code>, <code>RECOMMENDED</code>, <code>MAY</code>, and <code>OPTIONAL</code> in this document are to be interpreted as in <a href="#ref:RFC2119">RFC2119</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_glossary">1.2. Glossary</h3>
<div class="dlist">
<dl>
<dt class="hdlist1">Aggregator</dt>
<dd>
<p>A module or service to dispatch queries to repositories and collect results.</p>
</dd>
<dt class="hdlist1">CLARIN-FCS, FCS</dt>
<dd>
<p><em>CLARIN federated content search</em>, an interface specification to allow searching within resource content of repositories.</p>
</dd>
<dt class="hdlist1">Client</dt>
<dd>
<p>A software component, which implements the interface specification to query Endpoints, i.e. an aggregator or a user-interface.</p>
</dd>
<dt class="hdlist1">CQL</dt>
<dd>
<p><em>Contextual Query Language</em>, previously known as Common Query Language, is a formal language for representing queries to information retrieval systems such as search engines, bibliographic catalogs and museum collection information.</p>
</dd>
<dt class="hdlist1">Data View</dt>
<dd>
<p>A <em>Data View</em> is a mechanism to support different representations of search results, e.g. a "hits with highlights" view, an image or a geolocation.</p>
</dd>
<dt class="hdlist1">Data View Payload, Payload</dt>
<dd>
<p>The actual content encoded within a <em>Data View</em>, i.e. a CMDI metadata record or a KML encoded geolocation.</p>
</dd>
<dt class="hdlist1">Endpoint</dt>
<dd>
<p>A software component, which implements the CLARIN-FCS interface specification and translates between CLARIN-FCS and a search engine.</p>
</dd>
<dt class="hdlist1">Hit</dt>
<dd>
<p>A piece of data returned by a Search Engine that matches the search criterion. What is considered a Hit highly depends on Search Engine.</p>
</dd>
<dt class="hdlist1">Interface Specification</dt>
<dd>
<p>Common harmonized interface and suite of protocols that repositories need to implement.</p>
</dd>
<dt class="hdlist1">PID</dt>
<dd>
<p>A <em>Persistent identifier</em> is a long-lasting reference to a digital object.</p>
</dd>
<dt class="hdlist1">Repository</dt>
<dd>
<p>A software component at a CLARIN center that stores resources (= data) and information about these resources (= metadata).</p>
</dd>
<dt class="hdlist1">Repository Registry</dt>
<dd>
<p>A separate service that allows registering Repositories and their Endpoints and provides information about these to other components, e.g. an Aggregator. The <a href="https://centres.clarin.eu/">CLARIN Center Registry</a> is an implementation of such a repository registry.</p>
</dd>
<dt class="hdlist1">Resource</dt>
<dd>
<p>A searchable and addressable entity at an Endpoint, such as a text corpus or a multi-modal corpus.</p>
</dd>
<dt class="hdlist1">Resource Fragment</dt>
<dd>
<p>A smaller unit in a Resource, i.e. a sentence in a text corpus or a time interval in an audio transcription.</p>
</dd>
<dt class="hdlist1">Result Set</dt>
<dd>
<p>An (ordered) set of hits that match a search criterion produced by a search engine as the result of processing a query.</p>
</dd>
<dt class="hdlist1">Search Engine</dt>
<dd>
<p>A software component within a repository that allows for searching within the repository contents.</p>
</dd>
<dt class="hdlist1">SRU</dt>
<dd>
<p>Search and Retrieve via URL, is a protocol for Internet search queries. Originally introduced by Library of Congress <a href="#ref:LOC-SRU12">LOC-SRU12</a>, later standardization process moved to OASIS <a href="#ref:OASIS-SRU12">OASIS-SRU12</a>.</p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_normative_references">1.3. Normative References</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><a id="ref:RFC2119"></a>RFC2119</dt>
<dd>
<p>Key words for use in RFCs to Indicate Requirement Levels, IETF RFC 2119, March 1997,
<a href="https://www.ietf.org/rfc/rfc2119.html" class="bare">https://www.ietf.org/rfc/rfc2119.html</a></p>
</dd>
<dt class="hdlist1"><a id="ref:XML-Namespaces"></a>XML-Namespaces</dt>
<dd>
<p>Namespaces in XML 1.0 (Third Edition), W3C, 8 December 2009,
<a href="http://www.w3.org/TR/2009/REC-xml-names-20091208/" class="bare">http://www.w3.org/TR/2009/REC-xml-names-20091208/</a></p>
</dd>
<dt class="hdlist1"><a id="ref:OASIS-SRU-Overview"></a>OASIS-SRU-Overview</dt>
<dd>
<p>searchRetrieve: Part 0. Overview Version 1.0, OASIS, January 2013,
<a href="http://docs.oasis-open.org/search-ws/searchRetrieve/v1.0/os/part0-overview/searchRetrieve-v1.0-os-part0-overview.doc" class="bare">http://docs.oasis-open.org/search-ws/searchRetrieve/v1.0/os/part0-overview/searchRetrieve-v1.0-os-part0-overview.doc</a>
<a href="http://docs.oasis-open.org/search-ws/searchRetrieve/v1.0/os/part0-overview/searchRetrieve-v1.0-os-part0-overview.html">(HTML)</a>,
<a href="http://docs.oasis-open.org/search-ws/searchRetrieve/v1.0/os/part0-overview/searchRetrieve-v1.0-os-part0-overview.pdf">(PDF)</a></p>
</dd>
<dt class="hdlist1"><a id="ref:OASIS-SRU-APD"></a>OASIS-SRU-APD</dt>
<dd>
<p>searchRetrieve: Part 1. Abstract Protocol Definition Version 1.0, OASIS, January 2013,
<a href="http://docs.oasis-open.org/search-ws/searchRetrieve/v1.0/os/part1-apd/searchRetrieve-v1.0-os-part1-apd.doc" class="bare">http://docs.oasis-open.org/search-ws/searchRetrieve/v1.0/os/part1-apd/searchRetrieve-v1.0-os-part1-apd.doc</a>
<a href="http://docs.oasis-open.org/search-ws/searchRetrieve/v1.0/os/part1-apd/searchRetrieve-v1.0-os-part1-apd.html">(HTML)</a>,
<a href="http://docs.oasis-open.org/search-ws/searchRetrieve/v1.0/os/part1-apd/searchRetrieve-v1.0-os-part1-apd.pdf">(PDF)</a></p>
</dd>
<dt class="hdlist1"><a id="ref:OASIS-SRU12"></a>OASIS-SRU12</dt>
<dd>
<p>searchRetrieve: Part 2. SRU searchRetrieve Operation: APD Binding for SRU 1.2 Version 1.0, OASIS, January 2013,
<a href="http://docs.oasis-open.org/search-ws/searchRetrieve/v1.0/os/part2-sru1.2/searchRetrieve-v1.0-os-part2-sru1.2.doc" class="bare">http://docs.oasis-open.org/search-ws/searchRetrieve/v1.0/os/part2-sru1.2/searchRetrieve-v1.0-os-part2-sru1.2.doc</a>
<a href="http://docs.oasis-open.org/search-ws/searchRetrieve/v1.0/os/part2-sru1.2/searchRetrieve-v1.0-os-part2-sru1.2.html">(HTML)</a>,
<a href="http://docs.oasis-open.org/search-ws/searchRetrieve/v1.0/os/part2-sru1.2/searchRetrieve-v1.0-os-part2-sru1.2.pdf">(PDF)</a></p>
</dd>
<dt class="hdlist1"><a id="ref:OASIS-CQL"></a>OASIS-CQL</dt>
<dd>
<p>searchRetrieve: Part 5. CQL: The Contextual Query Language version 1.0, OASIS, January 2013,
<a href="http://docs.oasis-open.org/search-ws/searchRetrieve/v1.0/os/part5-cql/searchRetrieve-v1.0-os-part5-cql.doc" class="bare">http://docs.oasis-open.org/search-ws/searchRetrieve/v1.0/os/part5-cql/searchRetrieve-v1.0-os-part5-cql.doc</a>
<a href="http://docs.oasis-open.org/search-ws/searchRetrieve/v1.0/os/part5-cql/searchRetrieve-v1.0-os-part5-cql.html">(HTML)</a>,
<a href="http://docs.oasis-open.org/search-ws/searchRetrieve/v1.0/os/part5-cql/searchRetrieve-v1.0-os-part5-cql.pdf">(PDF)</a></p>
</dd>
<dt class="hdlist1"><a id="ref:SRU-Explain"></a>SRU-Explain</dt>
<dd>
<p>searchRetrieve: Part 7. SRU Explain Operation version 1.0, OASIS, January 2013,
<a href="http://docs.oasis-open.org/search-ws/searchRetrieve/v1.0/os/part7-explain/searchRetrieve-v1.0-os-part7-explain.doc" class="bare">http://docs.oasis-open.org/search-ws/searchRetrieve/v1.0/os/part7-explain/searchRetrieve-v1.0-os-part7-explain.doc</a>
<a href="http://docs.oasis-open.org/search-ws/searchRetrieve/v1.0/os/part7-explain/searchRetrieve-v1.0-os-part7-explain.html">(HTML)</a>,
<a href="http://docs.oasis-open.org/search-ws/searchRetrieve/v1.0/os/part7-explain/searchRetrieve-v1.0-os-part7-explain.pdf">(PDF)</a></p>
</dd>
<dt class="hdlist1"><a id="ref:SRU-Scan"></a>SRU-Scan</dt>
<dd>
<p>searchRetrieve: Part 6. SRU Scan Operation version 1.0, OASIS, January 2013,
<a href="http://docs.oasis-open.org/search-ws/searchRetrieve/v1.0/os/part6-scan/searchRetrieve-v1.0-os-part6-scan.doc" class="bare">http://docs.oasis-open.org/search-ws/searchRetrieve/v1.0/os/part6-scan/searchRetrieve-v1.0-os-part6-scan.doc</a>
<a href="http://docs.oasis-open.org/search-ws/searchRetrieve/v1.0/os/part6-scan/searchRetrieve-v1.0-os-part6-scan.html">(HTML)</a>,
<a href="http://docs.oasis-open.org/search-ws/searchRetrieve/v1.0/os/part6-scan/searchRetrieve-v1.0-os-part6-scan.pdf">(PDF)</a></p>
</dd>
<dt class="hdlist1"><a id="ref:LOC-SRU12"></a>LOC-SRU12</dt>
<dd>
<p>SRU Version 1.2: SRU Search/Retrieve Operation, Library of Congress,
<a href="http://www.loc.gov/standards/sru/sru-1-2.html" class="bare">http://www.loc.gov/standards/sru/sru-1-2.html</a></p>
</dd>
<dt class="hdlist1"><a id="ref:LOC-DIAG"></a>LOC-DIAG</dt>
<dd>
<p>SRU Version 1.2: SRU Diagnostics List, Library of Congress,
<a href="http://www.loc.gov/standards/sru/diagnostics/diagnosticsList.html" class="bare">http://www.loc.gov/standards/sru/diagnostics/diagnosticsList.html</a></p>
</dd>
<dt class="hdlist1"><a id="ref:CLARIN-FCS-DataViews"></a>CLARIN-FCS-DataViews</dt>
<dd>
<p>CLARIN Federated Content Search (CLARIN-FCS) - Data Views, SCCTC FCS Task-Force, April 2014,
<a href="https://trac.clarin.eu/wiki/FCS/Dataviews" class="bare">https://trac.clarin.eu/wiki/FCS/Dataviews</a>,
<a href="https://github.com/clarin-eric/fcs-misc/tree/main/fcs-dataviews-1.0" class="bare">https://github.com/clarin-eric/fcs-misc/tree/main/fcs-dataviews-1.0</a>,
<a href="https://office.clarin.eu/v/CE-2014-0317-CLARIN_FCS_Specification_DataViews_1_0-v20170613.pdf" class="bare">https://office.clarin.eu/v/CE-2014-0317-CLARIN_FCS_Specification_DataViews_1_0-v20170613.pdf</a></p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_non_normative_references">1.4. Non-Normative References</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><a id="ref:RFC6838"></a>RFC6838</dt>
<dd>
<p>Media Type Specifications and Registration Procedures, IETF RFC 6838, January 2013,
<a href="https://www.ietf.org/rfc/rfc6838.html" class="bare">https://www.ietf.org/rfc/rfc6838.html</a></p>
</dd>
<dt class="hdlist1"><a id="ref:RFC3023"></a>RFC3023</dt>
<dd>
<p>XML Media Types, IETF RFC 3023, January 2001,
<a href="https://www.ietf.org/rfc/rfc3023.html" class="bare">https://www.ietf.org/rfc/rfc3023.html</a></p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_typographic_and_xml_namespace_conventions">1.5. Typographic and XML Namespace conventions</h3>
<div class="paragraph">
<p>The following typographic conventions for XML fragments will be used throughout this specification:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>&lt;prefix:Element&gt;</code></p>
<div class="paragraph">
<p>An XML element with the Generic Identifier <em>Element</em> that is bound to an XML namespace denoted by the prefix <em>prefix</em>.</p>
</div>
</li>
<li>
<p><code>@attr</code></p>
<div class="paragraph">
<p>An XML attribute with the name <em>attr</em>.</p>
</div>
</li>
<li>
<p><code>string</code></p>
<div class="paragraph">
<p>The literal <em>string</em> must be used either as element content or attribute value.</p>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Endpoints and Clients <code>MUST</code> adhere to the <a href="#ref:XML-Namespaces">XML-Namespaces</a> specification. The CLARIN-FCS interface specification generally does not dictate whether XML elements should be serialized in their prefixed or non-prefixed syntax, but Endpoints <code>MUST</code> ensure that the correct XML namespace is used for elements and that XML namespaces are declared correctly. Clients <code>MUST</code> be agnostic regarding syntax for serializing the XML elements, i.e. if the prefixed or un-prefixed variant was used, and <code>SHOULD</code> operate solely on <em>expanded names</em>, i.e. pairs of <em>namespace name</em> and <em>local name</em>.</p>
</div>
<div class="paragraph">
<p>The following XML namespace names and prefixes are used throughout this specification. The column "Recommended Syntax" indicates which syntax variant <code>SHOULD</code> be used by the Endpoint to serialize the XML response.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 1. XML Namespaces and prefixes</caption>
<colgroup>
<col style="width: 7.1428%;">
<col style="width: 42.8571%;">
<col style="width: 35.7142%;">
<col style="width: 14.2859%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Prefix</th>
<th class="tableblock halign-left valign-top">Namespace Name</th>
<th class="tableblock halign-left valign-top">Comment</th>
<th class="tableblock halign-left valign-top">Recommended Syntax</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>fcs</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="http://clarin.eu/fcs/resource" class="bare">http://clarin.eu/fcs/resource</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CLARIN-FCS Resources</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">prefixed</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ed</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="http://clarin.eu/fcs/endpoint-description" class="bare">http://clarin.eu/fcs/endpoint-description</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CLARIN-FCS Endpoint Description</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">prefixed</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>hits</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="http://clarin.eu/fcs/dataview/hits" class="bare">http://clarin.eu/fcs/dataview/hits</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CLARIN-FCS Generic Hits</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">prefixed</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>sru</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="http://www.loc.gov/zing/srw/" class="bare">http://www.loc.gov/zing/srw/</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SRU</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">prefixed</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>diag</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="http://www.loc.gov/zing/srw/diagnostic/" class="bare">http://www.loc.gov/zing/srw/diagnostic/</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SRU Diagnostics</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">prefixed</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>zr</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="http://explain.z3950.org/dtd/2.0/" class="bare">http://explain.z3950.org/dtd/2.0/</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SRU/ZeeRex Explain</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">prefixed</p></td>
</tr>
</tbody>
</table>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_clarin_fcs_interface_specification">2. CLARIN-FCS Interface Specification</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The CLARIN-FCS Interface Specification defines a set of capabilities, an extensible result format and a set of required operations. CLARIN-FCS is built on the SRU/CQL standard and additional functionality required for CLARIN-FCS is added through SRU/CQL&#8217;s extension mechanisms.</p>
</div>
<div class="paragraph">
<p>Specifically, the CLARIN-FCS Interface Specification consists of two <em>components</em>, a set of <em>formats</em> and a <em>transport protocol</em>. The <em>Endpoint</em> component is a software component that acts as a bridge between the formats that are sent by a <em>Client</em> using the <em>Transport Protocol</em>, and a <em>Search Engine</em>. The <em>Search Engine</em> is a custom software component that allows the search of language resources in a Repository. The <em>Endpoint</em> basically implements the <em>transport protocol</em> and acts as a mediator between the CLARIN-FCS specific formats and the idiosyncrasies of <em>Search Engines</em> of the individual Repositories. The following figure illustrates the overall architecture:</p>
</div>
<div class="listingblock">
<div class="title">CLARIN-FCS Overall Architecture</div>
<div class="content">
<pre>                 +---------+
                 |  Client |
                 +---------+
                     /|\
                      |
          -------------------------
         |        SRU / CQL        |
         | w/CLARIN-FCS extensions |
          -------------------------
                      |
                     \|/
 +-----------------------------------------+
 |        |      Endpoint     /|\          |
 |        |                    |           |
 |  ---------------    ------------------  |
 | | Translate CQL |  | Translate Result | |
 |  ---------------    ------------------  |
 |        |                    |           |
 |       \|/                   |           |
 +-----------------------------------------+
                     /|\
                      |
                     \|/
        +---------------------------+
        |       Search Engine       |
        +---------------------------+</pre>
</div>
</div>
<div class="paragraph">
<p>In general, the work flow in CLARIN-FCS is as follows: a Client submits a query to an Endpoint. The Endpoint translates the query from CQL to the query dialect used by the Search Engine and submits the translated query to the Search Engine. The Search Engine processes the query and generates a result set, i.e. it compiles a set of hits that match the search criterion. The Endpoint then translates the results from the Search Engine-specific result set format to the CLARIN-FCS result format and sends it to the Client.</p>
</div>
<div class="paragraph">
<p>The following sections describe the CLARIN-FCS capabilities, the query and result formats, how SRU/CQL is used as a transport protocol in the context of CLARIN-FCS and the required CLARIN-FCS specific extensions to SRU.</p>
</div>
<div class="sect2">
<h3 id="_capabilities">2.1. Capabilities</h3>
<div class="paragraph">
<p>Because CLARIN-FCS aims to integrate several heterogeneous Search Engines it needs to support the different features of the Search Engines, e.g. some only allow simple search while other support wild-cards or regular expressions. Also, the available resources have different properties, e.g. some resources provide Part-Of-Speech annotations, while others are transcripts of an audio signal or lexicographic resources consisting of entries. To accommodate for these different features, CLARIN-FCS defines several <em>Capabilities</em>. A Capability defines a certain feature that is part of CLARIN-FCS, e.g. what kind of queries are supported. Each Endpoint implements some (or all) of these Capabilities. The Endpoint will announce the capabilities it provides to allow a Client to auto-tune itself (see section <a href="#_endpoint_description">Endpoint Description</a>). Each Capability is identified by a <em>Capability Identifier</em>, which uses the URI syntax.</p>
</div>
<div class="paragraph">
<p>The following Capabilities are defined by CLARIN-FCS:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><em>Basic Search</em> (Capability Identifier: <code>http://clarin.eu/fcs/capability/basic-search</code>)</dt>
<dd>
<div class="paragraph">
<p>Endpoints <code>MUST</code> support <em>term-only</em> queries.</p>
</div>
<div class="paragraph">
<p>Endpoints <code>SHOULD</code> support <em>terms</em> combined with boolean operator queries (<em>AND</em> and <em>OR</em>), including sub-queries. Endpoints <code>MAY</code> also support <em>NOT</em> or <em>PROX</em> operator queries. If the Endpoint does not support a query, i.e. the used operators are not supported by the Endpoint, it <code>MUST</code> return an appropriate error message using the appropriate SRU diagnostic (<a href="#ref:LOC-DIAG">LOC-DIAG</a>).</p>
</div>
<div class="listingblock">
<div class="title">Examples of valid CQL queries for <em>Basic Search</em></div>
<div class="content">
<pre>cat
"cat"
cat AND dog
"grumpy cat"
"grumpy cat" AND dog
"grumpy cat" OR "lazy dog"
cat AND (mouse OR "lazy dog")</pre>
</div>
</div>
<div class="paragraph">
<p>The Endpoint <code>MUST</code> perform the query on an annotation tier that makes the most sense for the user, i.e. the textual content for a text corpus resource or the orthographic transcription of a spoken language corpus. Endpoints <code>SHOULD</code> perform the query case-sensitive.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
In CQL, a <em>term</em> can be a single token or a phrase, i.e. tokens separated by spaces. If a <em>term</em> contains spaces, it needs to be quoted.
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
CLARIN-FCS requires Endpoints to be able to parse all of CQL and, if they don&#8217;t support a certain CQL feature, to generate the appropriate error message (see section <a href="#_srucql">SRU/CQL</a>). Especially, if an Endpoint <em>only</em> supports <em>Basic Search</em>, it <code>MUST NOT</code> silently accept queries that include CQL features besides <em>term-only</em> and <em>terms</em> combined with boolean operator queries, i.e. queries involving context sets, etc.
</td>
</tr>
</table>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>Endpoints <code>MUST</code> implement the <em>Basic Search</em> Capability.</p>
</div>
<div class="paragraph">
<p>Endpoints <code>MUST NOT</code> invent custom Capability Identifiers and <code>MUST</code> only use the values defined above.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
The current CLARIN-FCS specification only defines the <em>Basic Search</em> Capability. Future versions of the CLARIN-FCS specification will support more sophisticated queries such as selecting annotation tiers, expanding of tags, or mapping of data categories and thus define more Capabilities. A future CLARIN-FCS specification my also introduce the term "Profile" as a simple way to refer to a certain sub-set of Capabilities.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_result_format">2.2. Result Format</h3>
<div class="paragraph">
<p>The Search Engine will produce a result set containing several hits as the outcome of processing a query. The Endpoint <code>MUST</code> serialize these hits in the CLARIN-FCS result format. Endpoints are <code>REQUIRED</code> to adhere to the principle, that <em>one</em> hit <code>MUST</code> be serialized as <em>one</em> CLARIN-FCS result record and <code>MUST NOT</code> combine several hits in one CLARIN-FCS result record. E.g., if a query matches five different sentences within one text (= the resource), the Endpoint must serialize them as five SRU records each with one Hit each referencing the same containing Resource (see section <a href="#_operation_searchretrieve">Operation "searchRetrieve"</a>).</p>
</div>
<div class="paragraph">
<p>CLARIN-FCS uses a customized format for returning results. <em>Resource</em> and <em>Resource Fragments</em> serve as containers for hit results, which are presented in one or more <em>Data View</em>. The following section describes the Resource format and Data View format and section <a href="#_operation_searchretrieve">Operation "searchRetrieve"</a> will describe, how hits are embedded within SRU responses.</p>
</div>
<div class="sect3">
<h4 id="_resource_and_resourcefragment">2.2.1. Resource and ResourceFragment</h4>
<div class="paragraph">
<p>To encode search results, CLARIN-FCS supports two building blocks:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Resources</dt>
<dd>
<p>A <em>Resource</em> is a <em>searchable</em> and <em>addressable</em> entity at the Endpoint, such as a text corpus or a multi-modal corpus. A resource <code>SHOULD</code> be a self-contained unit, i.e. not a single sentence in a text corpus or a time interval in an audio transcription, but rather a complete document from a text corpus or a complete audio transcription.</p>
</dd>
<dt class="hdlist1">Resource Fragments</dt>
<dd>
<p>A <em>Resource Fragment</em> is a smaller unit in a <em>Resource</em>, i.e. a sentence in a text corpus or a time interval in an audio transcription.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>A Resource <code>SHOULD</code> be the most precise unit of data that is directly addressable as a "whole". A Resource <code>SHOULD</code> contain a Resource Fragment, if the hit consists of just a part of the Resource unit (for example if the hit is a sentence within a large text). A Resource Fragment <code>SHOULD</code> be addressable within a resource, i.e. it has an offset or a resource-internal identifier. Using Resource Fragments is <code>OPTIONAL</code>, but Endpoints are encouraged to use them. If the Endpoint encodes a hit with a Resource Fragment, the actual hit <code>SHOULD</code> be encoded as a Data View that within the Resource Fragment.</p>
</div>
<div class="paragraph">
<p>Endpoints <code>SHOULD</code> always provide a link to the resource itself, i.e. each Resource or Resource Fragment <code>SHOULD</code> be identified by a persistent identifier or providing a URI, that is unique for Endpoint. Even if direct linking is not possible, i.e. due to licensing issues, the Endpoints <code>SHOULD</code> provide a URI to link to a web-page describing the corpus or collection, including instruction on how to obtain it. Endpoints <code>SHOULD</code> provide links that are as specific as possible (and logical), i.e. if a sentence within a resource cannot be addressed directly, the Resource Fragment <code>SHOULD NOT</code> contain a persistent identifier or a URI.</p>
</div>
<div class="paragraph">
<p>If the Endpoint can provide both, a persistent identifier as well as a URI, for either Resource or Resource Fragment, they <code>SHOULD</code> provide both. When working with results, Clients <code>SHOULD</code> prefer persistent identifiers over regular URIs.</p>
</div>
<div class="paragraph">
<p>Resource and Resource Fragment are serialized in XML and Endpoints <code>MUST</code> generate responses that are valid according to the XML schema <a href="attachments/Resource.xsd">"Resource.xsd"</a>. A Resource is encoded in the form of a <code>&lt;fcs:Resource&gt;</code> element, a <em>Resource Fragment</em> in the form of a <code>&lt;fcs:ResourceFragment&gt;</code> element. The content of a Data View is wrapped in a <code>&lt;fcs:DataView&gt;</code> element. <code>&lt;fcs:Resource&gt;</code> is the top-level element and <code>MAY</code> contain zero or more <code>&lt;fcs:DataView&gt;</code> elements and <code>MAY</code> contain zero or more <code>&lt;fcs:ResourceFragment&gt;</code> elements. A <code>&lt;fcs:ResourceFragment&gt;</code> element <code>MUST</code> contain one or more <code>&lt;fcs:DataView&gt;</code> elements.</p>
</div>
<div class="paragraph">
<p>The elements <code>&lt;fcs:Resource&gt;</code>, <code>&lt;fcs:ResourceFragment&gt;</code> and <code>&lt;fcs:DataView&gt;</code> <code>MAY</code> carry a <code>@pid</code> and/or a <code>@ref</code> attribute, which allows linking to the original data represented by the Resource, Resource Fragment, or Data View. A <code>@pid</code> attribute <code>MUST</code> contain a valid persistent identifier, a <code>@ref</code> <code>MUST</code> contain valid URI, i.e. a "plain" URI without the additional semantics of being a persistent reference. If the Endpoint cannot provide a <code>@pid</code> attribute for a <code>&lt;fcs:Resource&gt;</code>, they <code>SHOULD</code> provide a <code>@ref</code> attribute. Endpoint <code>SHOULD</code> add either a <code>@pid</code> or <code>@ref</code> attribute to either the <code>&lt;fcs:Resource&gt;</code> or the <code>&lt;fcs:ResourceFragment&gt;</code> element, if possible to both elements. Endpoints are <code>RECOMMENDED</code> to give <code>@pid</code> attributes, if they can provide them.</p>
</div>
<div class="paragraph">
<p>Endpoints <code>MUST</code> use the identifier <code>http://clarin.eu/fcs/resource</code> for the <em>responseItemType</em> (= content for the <code>&lt;sru:recordSchema&gt;</code> element) in SRU responses.</p>
</div>
<div class="paragraph">
<p>Endpoints <code>MAY</code> serialize hits as multiple Data Views, however they <code>MUST</code> provide the Generic Hits (HITS) Data View either encoded as a Resource Fragment (if applicable), or otherwise within the Resource (if there is no reasonable Resource Fragment). Other Data Views <code>SHOULD</code> be put in a place that is logical for their content (as is to be determined by the Endpoint), e.g. a metadata Data View would most likely be put directly below Resource and a Data View representing some annotation layers directly around the hit is more likely to belong within a Resource Fragment.</p>
</div>
<div id="gh-dv-resource" class="listingblock">
<div class="title">Example of <em>Generic Hits</em> embedded in <em>Resource</em></div>
<div class="content">
<pre class="rouge highlight"><code data-lang="xml"><span class="nt">&lt;fcs:Resource</span> <span class="na">xmlns:fcs=</span><span class="s">"http://clarin.eu/fcs/resource"</span> <span class="na">pid=</span><span class="s">"http://hdl.handle.net/4711/00-15"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;fcs:DataView</span> <span class="na">type=</span><span class="s">"application/x-clarin-fcs-hits+xml"</span><span class="nt">&gt;</span>
    <span class="c">&lt;!-- data view payload omitted --&gt;</span>
  <span class="nt">&lt;/fcs:DataView&gt;</span>
<span class="nt">&lt;/fcs:Resource&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#gh-dv-resource">Example of <em>Generic Hits</em> embedded in <em>Resource</em></a> shows a simple hit, which is encoded in one Data View of type <em>Generic Hits</em> embedded within a Resource. The type of the Data View is identified by the MIME type <code>application/x-clarin-fcs-hits+xml</code>. The Resource is referenceable by the persistent identifier <code>http://hdl.handle.net/4711/08-15</code>.</p>
</div>
<div id="gh-dv-resource-fragment" class="listingblock">
<div class="title">Example of <em>Generic Hits</em> embedded in <em>Resource Fragment</em></div>
<div class="content">
<pre class="rouge highlight"><code data-lang="xml"><span class="nt">&lt;fcs:Resource</span> <span class="na">xmlns:fcs=</span><span class="s">"http://clarin.eu/fcs/resource"</span> <span class="na">pid=</span><span class="s">"http://hdl.handle.net/4711/08-15"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;fcs:ResourceFragment&gt;</span>
    <span class="nt">&lt;fcs:DataView</span> <span class="na">type=</span><span class="s">"application/x-clarin-fcs-hits+xml"</span><span class="nt">&gt;</span>
      <span class="c">&lt;!-- data view payload omitted --&gt;</span>
    <span class="nt">&lt;/fcs:DataView&gt;</span>
  <span class="nt">&lt;/fcs:ResourceFragment&gt;</span>
<span class="nt">&lt;/fcs:Resource&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#gh-dv-resource-fragment">Example of <em>Generic Hits</em> embedded in <em>Resource Fragment</em></a> shows a hit encoded as a Resource Fragment embedded within a Resource. The actual hit is again encoded as one Data View of type <em>Generic Hits</em>. The hit is not directly referenceable, but the Resource, in which the hit occurred, is referenceable by the persistent identifier <code>http://hdl.handle.net/4711/08-15</code>. In contrast to <a href="#gh-dv-resource">Example of <em>Generic Hits</em> embedded in <em>Resource</em></a>, the Endpoint decided to provide a "semantically richer" encoding and embedded the hit using a Resource Fragment within the Resource to indicate that the hit is a part of a larger resource, e.g. a sentence in a text document.</p>
</div>
<div id="gh-dv-cmdi-resource" class="listingblock">
<div class="title">Example of <em>Generic Hits</em> embedded in <em>Resource Fragment</em> with CMDI Data View</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="xml"><span class="nt">&lt;fcs:Resource</span> <span class="na">xmlns:fcs=</span><span class="s">"http://clarin.eu/fcs/resource"</span>
              <span class="na">pid=</span><span class="s">"http://hdl.handle.net/4711/08-15"</span> <span class="na">ref=</span><span class="s">"http://repos.example.org/file/text_08_15.html"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;fcs:DataView</span> <span class="na">type=</span><span class="s">"application/x-cmdi+xml"</span>
                <span class="na">pid=</span><span class="s">"http://hdl.handle.net/4711/08-15-1"</span> <span class="na">ref=</span><span class="s">"http://repos.example.org/file/08_15_1.cmdi"</span><span class="nt">&gt;</span>
      <span class="c">&lt;!-- data view payload omitted --&gt;</span>
  <span class="nt">&lt;/fcs:DataView&gt;</span>
  <span class="nt">&lt;fcs:ResourceFragment</span> <span class="na">pid=</span><span class="s">"http://hdl.handle.net/4711/08-15-2"</span> <span class="na">ref=</span><span class="s">"http://repos.example.org/file/text_08_15.html#sentence2"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;fcs:DataView</span> <span class="na">type=</span><span class="s">"application/x-clarin-fcs-hits+xml"</span><span class="nt">&gt;</span>
      <span class="c">&lt;!-- data view payload omitted --&gt;</span>
    <span class="nt">&lt;/fcs:DataView&gt;</span>
  <span class="nt">&lt;/fcs:ResourceFragment&gt;</span>
<span class="nt">&lt;/fcs:Resource&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The more complex <a href="#gh-dv-cmdi-resource">Example of <em>Generic Hits</em> embedded in <em>Resource Fragment</em> with CMDI Data View</a> is similar to <a href="#gh-dv-resource-fragment">Example of <em>Generic Hits</em> embedded in <em>Resource Fragment</em></a>, i.e. it shows a hit is encoded as one <em>Generic Hits</em> Data View in a Resource Fragment, which is embedded in a Resource. In contrast to <a href="#gh-dv-resource-fragment">Example of <em>Generic Hits</em> embedded in <em>Resource Fragment</em></a>, another Data View of type CMDI is embedded directly within the Resource. The Endpoint can use this type of Data View to directly provide CMDI metadata about the Resource to Clients. All entities of the Hit can be referenced by a persistent identifier and a URI. The complete Resource is referenceable by either the persistent identifier <code>http://hdl.handle.net/4711/08-15</code> or the URI <code>http://repos.example.org/file/text_08_15.html</code> and the CMDI metadata record in the CMDI Data View is referenceable either by the persistent identifier <code>http://hdl.handle.net/4711/08-15-1</code> or the URI <code>http://repos.example.org/file/08_15_1.cmdi</code>. The actual hit in the Resource Fragment is also directly referenceable by either the persistent identifier <code>http://hdl.handle.net/4711/00-15-2</code> or the URI <code>http://repos.example.org/file/text_08_15.html#sentence2</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_data_view">2.2.2. Data View</h4>
<div class="paragraph">
<p>A <em>Data View</em> serves as a container for encoding the actual search results (the data fragments relevant to search) within CLARIN-FCS. Data Views are designed to allow for different representations of results, i.e. they are deliberately kept open to allow further extensions with more supported Data View formats. This specification only defines a most basic Data View for representing search results, called Generic Hits (see below). More Data Views are defined in the supplementary specification <a href="#ref:CLARIN-FCS-DataViews">CLARIN-FCS-DataViews</a>.</p>
</div>
<div class="paragraph">
<p>The content of a Data View is called <em>Payload</em>. Each Payload is typed and the type of the Payload is recorded in the <code>@type</code> attribute of the <code>&lt;fcs:DataView&gt;</code> element. The Payload type is identified by a MIME type (<a href="#ref:RFC6838">RFC6838</a>, <a href="#ref:RFC3023">RFC3023</a>). If no existing MIME type can be used, implementers <code>SHOULD</code> define a proper private mime type.</p>
</div>
<div class="paragraph">
<p>The Payload of a Data View can either be deposited <em>inline</em> or by <em>reference</em>. In the case of <em>inline</em>, it MUST be serialized as an XML fragment below the <code>&lt;fcs:DataView&gt;</code> element. This is the preferred method for payloads that can easily be serialized in XML. Deposition by <em>reference</em> is meant for content that cannot easily be deposited inline, i.e. binary content (like images). In this case, the Data View MUST include a <code>@ref</code> or <code>@pid</code> attribute that links location for Clients to download the payload. This location <code>SHOULD</code> be <em>openly accessible</em>, i.e. data can be downloaded freely without any need to perform a login.</p>
</div>
<div class="paragraph">
<p>Data Views are classified into a <em>send-by-default</em> and a <em>need-to-request</em> delivery policy. In case of the <em>send-by-default</em> delivery policy, the Endpoint <code>MUST</code> send the Data View automatically, i.e. Endpoints <code>MUST</code> unconditionally include the Data View when they serialize a response to a search request. In the case of <em>need-to-request</em>, the Client must explicitly request the Endpoint to include this Data View in the response. This enables the Endpoint to not generate and serialize Data Views that are "expensive" in terms of computational power or bandwidth for every response. To request such a Data View, a Client <code>MUST</code> submit a comma separated list of Data View identifiers (see section <a href="#_endpoint_description">Endpoint Description</a>) in the <code>x-fcs-dataviews</code> extra request parameter with the <em>searchRetrieve</em> request. If a Client requests a Data View that is not valid for the search context, the Endpoint <code>MUST</code> generate a non-fatal diagnostic <code>http://clarin.eu/fcs/diagnostic/4</code> ("Requested Data View not valid for this resource"). The details field of the diagnostic <code>MUST</code> contain the MIME type of the Data View that was not valid. If more than one requested Data View is invalid, the Endpoint <code>MUST</code> generate a <em>separate</em> non-fatal diagnostic <code>http://clarin.eu/fcs/diagnostic/4</code> for each of the requested Data Views.</p>
</div>
<div class="paragraph">
<p>The description of every Data View contains a recommendation as to how the Endpoint should handle the payload delivery, i.e. if a Data View is by default considered <em>send-by-default</em> or <em>need-to-request</em>. Endpoint <code>MAY</code> choose to implement different policy. The relevant information which policy is implemented by an Endpoint for a specific Data View is part of the Endpoint Description (see section <a href="#_endpoint_description">Endpoint Description</a>). For each Data View, a <em>Recommended Short Identifier</em> is defined, that Endpoint <code>SHOULD</code> use for an identifier of the Data View in the list of supported Data Views in the <em>Endpoint Description</em>.</p>
</div>
<div class="paragraph">
<p>The <em>Generic Hits</em> Data View is mandatory, thus all Endpoints <code>MUST</code> implement this it and provide search results represented in the <em>Generic Hits</em> Data View. Endpoints <code>MUST</code> implement the <em>Generic Hits</em> Data View with the <em>send-by-default</em> delivery policy.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
The examples in the following sections <em>show only</em> the payload with the enclosing <code>&lt;fcs:DataView&gt;</code> element of a Data View. Of course, the Data View must be embedded either in a <code>&lt;fcs:Resource&gt;</code> or a <code>&lt;fcs:ResourceFragment&gt;</code> element. The <code>@pid</code> and <code>@ref</code> attributes have been omitted for all <em>inline</em> payload types.
</td>
</tr>
</table>
</div>
<div class="sect4">
<h5 id="_generic_hits_hits">2.2.2.1. Generic Hits (HITS)</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 66.6667%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Description</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">The representation of the hit</p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">MIME type</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>application/x-clarin-fcs-hits+xml</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Payload Disposition</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>inline</em></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Payload Delivery</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>send-by-default</em> (<code>REQUIRED</code>)</p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Recommended Short Identifier</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>hits</code> (<code>RECOMMENDED</code>)</p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">XML Schema</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="attachments/DataView-Hits.xsd">DataView-Hits.xsd</a></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The <em>Generic Hits</em> Data View serves as the <em>most basic</em> agreement in CLARIN-FCS for serialization of search results and <code>MUST</code> be implemented by all Endpoints. In many cases, this Data View can only serve as an (lossy) approximation, because resources at Endpoints are very heterogeneous. For instance, the Generic Hits Data View is probably not the best representation for a hit result in a corpus of spoken language, but an architecture like CLARIN-FCS requires one common representation to be implemented by all Endpoints, therefore this Data View was defined. The Generic Hits Data View supports multiple markers for supplying highlighting for an individual hit, e.g. if a query contains a (boolean) conjunction, the Endpoint can use multiple markers to provide individual highlights for the matching terms. An Endpoint <code>MUST NOT</code> use this Data View to aggregate several hits within one resource. Each hit <code>SHOULD</code> be presented within the context of a complete sentence. If that is not possible due to the nature of the type of the resource, the Endpoint <code>MUST</code> provide an equivalent reasonable unit of context (e.g. within a phrase of an orthographic transcription of an utterance). The <code>&lt;hits:Hit&gt;</code> element within the <code>&lt;hits:Result&gt;</code> element is not enforced by the XML schema, but Endpoints are <code>RECOMMENDED</code> to use it. The XML fragment of the Generic Hits payload <code>MUST</code> be valid according to the XML schema <a href="attachments/DataView-Hits.xsd">"DataView-Hits.xsd"</a>.</p>
</div>
<div id="gh-dv-single-hit" class="listingblock">
<div class="title">Example (single hit marker)</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="xml"><span class="c">&lt;!-- potential @pid and @ref attributes omitted --&gt;</span>
<span class="nt">&lt;fcs:DataView</span> <span class="na">type=</span><span class="s">"application/x-clarin-fcs-hits+xml"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;hits:Result</span> <span class="na">xmlns:hits=</span><span class="s">"http://clarin.eu/fcs/dataview/hits"</span><span class="nt">&gt;</span>
    The quick brown <span class="nt">&lt;hits:Hit&gt;</span>fox<span class="nt">&lt;/hits:Hit&gt;</span> jumps over the lazy dog.
  <span class="nt">&lt;/hits:Result&gt;</span>
<span class="nt">&lt;/fcs:DataView&gt;</span></code></pre>
</div>
</div>
<div id="gh-dv-multi-hit" class="listingblock">
<div class="title">Example (multiple hit markers)</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="xml"><span class="c">&lt;!-- potential @pid and @ref attributes omitted --&gt;</span>
<span class="nt">&lt;fcs:DataView</span> <span class="na">type=</span><span class="s">"application/x-clarin-fcs-hits+xml"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;hits:Result</span> <span class="na">xmlns:hits=</span><span class="s">"http://clarin.eu/fcs/dataview/hits"</span><span class="nt">&gt;</span>
    The quick brown <span class="nt">&lt;hits:Hit&gt;</span>fox<span class="nt">&lt;/hits:Hit&gt;</span> jumps over the lazy <span class="nt">&lt;hits:Hit&gt;</span>dog<span class="nt">&lt;/hits:Hit&gt;</span>.
  <span class="nt">&lt;/hits:Result&gt;</span>
<span class="nt">&lt;/fcs:DataView&gt;</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_endpoint_description">2.3. Endpoint Description</h3>
<div class="paragraph">
<p>Endpoints need to provide information about their capabilities to support auto-configuration of Clients. The <em>Endpoint Description</em> mechanism provides the necessary facility to provide this information to the Clients. Endpoints <code>MUST</code> encode their capabilities using an XML format and embed this information into the SRU/CQL protocol as described in section <a href="#_operation_explain">Operation "explain"</a>. The XML fragment generated by the Endpoint for the Endpoint Description <code>MUST</code> be valid according to the XML schema <a href="attachments/Endpoint-Description.xsd">"Endpoint-Description.xsd"</a>.</p>
</div>
<div class="paragraph">
<p>The XML fragment for <em>Endpoint Description</em> is encoded as an <code>&lt;ed:EndpointDescription&gt;</code> element, that contains the following attributes and children:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>one <code>@version</code> attribute (<code>REQUIRED</code>) on the <code>&lt;ed:EndpointDescription&gt;</code> element. The value of the <code>@version</code> attribute <code>MUST</code> be <code>1</code>.</p>
</li>
<li>
<p>one <code>&lt;ed:Capabilities&gt;</code> element (<code>REQUIRED</code>) that contains one or more <code>&lt;ed:Capability&gt;</code> elements</p>
<div class="paragraph">
<p>The content of the <code>&lt;ed:Capability&gt;</code> element is a Capability Identifier, that indicates the capabilities, that are supported by the Endpoint. For valid values for the Capability Identifier, see section <a href="#_capabilities">Capabilities</a>. This list <code>MUST NOT</code> include duplicate values.</p>
</div>
</li>
<li>
<p>one <code>&lt;ed:SupportedDataViews&gt;</code> (<code>REQUIRED</code>)</p>
<div class="paragraph">
<p>A list of Data Views that are supported by this Endpoint. This list is composed of one or more <code>&lt;ed:SupportedDataView&gt;</code> elements. The content of a <code>&lt;ed:SupportedDataView&gt;</code> <code>MUST</code> be the MIME type of a supported Data View, e.g. <code>application/x-clarin-fcs-hits+xml</code>. Each <code>&lt;ed:SupportedDataView&gt;</code> element <code>MUST</code> carry a <code>@id</code> and a <code>@delivery-policy</code> attribute. The value of the <code>@id</code> attribute is later used in the <code>&lt;ed:Resource&gt;</code> element to indicate, which Data View is supported by a resource (see below). Endpoints <code>SHOULD</code> use the recommended short identifier for the Data View. The <code>@delivery-policy</code> indicates, the Endpoint&#8217;s delivery policy, for that Data View. Valid values are <code>send-by-default</code> for the <em>send-by-default</em> and <code>need-to-request</code> for the <em>need-to-request</em> delivery policy.</p>
</div>
<div class="paragraph">
<p>This list <code>MUST NOT</code> include duplicate entries, i.e. no MIME type must appear more than once.</p>
</div>
<div class="paragraph">
<p>The value of the <code>@id</code> attribute <code>MUST NOT</code> contain the characters <code>,</code> (comma) or <code>;</code> (semicolon).</p>
</div>
</li>
<li>
<p>one <code>&lt;ed:Resources&gt;</code> element (<code>REQUIRED</code>)</p>
<div class="paragraph">
<p>A list of (top-level) resources that are available, i.e. searchable, at the Endpoint. The <code>&lt;ed:Resources&gt;</code> element contains one or more <code>&lt;ed:Resource&gt;</code> elements (see below). The Endpoint <code>MUST</code> declare at least one (top-level) resource.</p>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>The <code>&lt;ed:Resource&gt;</code> element contains a basic description of a resource that is available at the Endpoint. A resource is a searchable entity, e.g. a single corpus. The <code>&lt;ed:Resources&gt;</code> has a mandatory <code>@pid</code> attribute that contains persistent identifier of the resource. This value <code>MUST</code> be the same as the <em>MdSelfLink</em> of the CMDI record describing the resource. The <code>&lt;ed:Resources&gt;</code> element contains the following children:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>one or more <code>&lt;ed:Title&gt;</code> elements (<code>REQUIRED</code>)</p>
<div class="paragraph">
<p>A human-readable title for the resource. A <code>REQUIRED</code> <code>@xml:lang</code> attribute indicates the language of the title. An English version of the title is <code>REQUIRED</code>. The list of titles <code>MUST NOT</code> contain duplicate entries for the same language.</p>
</div>
</li>
<li>
<p>zero or more <code>&lt;ed:Description&gt;</code> elements (<code>OPTIONAL</code>)</p>
<div class="paragraph">
<p>An optional human-readable description of the resource. It <code>SHOULD</code> be at most one sentence. A <code>REQUIRED</code> <code>@xml:lang</code> attribute indicates the language of the description. If supplied, an English version of the description is <code>REQUIRED</code>. The list of descriptions <code>MUST NOT</code> contain duplicate entries for the same language.</p>
</div>
</li>
<li>
<p>zero or one <code>&lt;ed:LandingPageURI&gt;</code> element (<code>OPTIONAL</code>)</p>
<div class="paragraph">
<p>A link to a website for the resource, e.g. a landing page for a resource, i.e. a web-site that describes a corpus.</p>
</div>
</li>
<li>
<p>one <code>&lt;ed:Languages&gt;</code> element (<code>REQUIRED</code>)</p>
<div class="paragraph">
<p>The (relevant) languages available within the resource. The <code>&lt;ed:Languages&gt;</code> element contains one or more <code>&lt;ed:Language&gt;</code> elements. The content of a <code>&lt;ed:Language&gt;</code> element <code>MUST</code> be a ISO 639-3 three letter language code. This element <code>should</code> be repeated for all languages (relevant) available <em>within</em> the resource, however this list <code>MUST NOT</code> contain duplicate entries.</p>
</div>
</li>
<li>
<p>one <code>&lt;ed:AvailableDataViews&gt;</code> element (<code>REQUIRED</code>)</p>
<div class="paragraph">
<p>The Data Views that are available for the resource. The <code>&lt;ed:AvailableDataViews&gt;</code> <code>MUST</code> carry a <code>@ref</code> attribute, that contains a whitespace separated list of id values, that correspond to value of <code>@id</code> attribute on <code>&lt;ed:SupportedDataView&gt;</code> elements.</p>
</div>
<div class="paragraph">
<p>In case of sub-resources, each Resource <code>SHOULD</code> support all Data Views that are supported by the parent resource. However, every resource <code>MUST</code> declare all available Data Views independently, i.e. there is no implicit inheritance semantic.</p>
</div>
</li>
<li>
<p>zero or one <code>&lt;ed:Resources&gt;</code> element (<code>OPTIONAL</code>)</p>
<div class="paragraph">
<p>If a resource has searchable sub-resources, the Endpoint <code>MUST</code> supply additional finer grained resource elements, which are wrapped in a <code>&lt;ed:Resources&gt;</code> element. A sub-resource is a searchable entity within a resource, e.g. a sub-corpus.</p>
</div>
</li>
</ul>
</div>
<div id="ed-simple" class="listingblock">
<div class="title">Example of simple Endpoint Description</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="xml"><span class="nt">&lt;ed:EndpointDescription</span> <span class="na">xmlns:ed=</span><span class="s">"http://clarin.eu/fcs/endpoint-description"</span> <span class="na">version=</span><span class="s">"1"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;ed:Capabilities&gt;</span>
    <span class="nt">&lt;ed:Capability&gt;</span>http://clarin.eu/fcs/capability/basic-search<span class="nt">&lt;/ed:Capability&gt;</span>
  <span class="nt">&lt;/ed:Capabilities&gt;</span>
  <span class="nt">&lt;ed:SupportedDataViews&gt;</span>
    <span class="nt">&lt;ed:SupportedDataView</span> <span class="na">id=</span><span class="s">"hits"</span> <span class="na">delivery-policy=</span><span class="s">"send-by-default"</span><span class="nt">&gt;</span>application/x-clarin-fcs-hits+xml<span class="nt">&lt;/ed:SupportedDataView&gt;</span>
  <span class="nt">&lt;/ed:SupportedDataViews&gt;</span>
  <span class="nt">&lt;ed:Resources&gt;</span>
    <span class="c">&lt;!-- just one top-level resource at the Endpoint --&gt;</span>
    <span class="nt">&lt;ed:Resource</span> <span class="na">pid=</span><span class="s">"http://hdl.handle.net/4711/0815"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;ed:Title</span> <span class="na">xml:lang=</span><span class="s">"de"</span><span class="nt">&gt;</span>Goethe Korpus<span class="nt">&lt;/ed:Title&gt;</span>
      <span class="nt">&lt;ed:Title</span> <span class="na">xml:lang=</span><span class="s">"en"</span><span class="nt">&gt;</span>Goethe corpus<span class="nt">&lt;/ed:Title&gt;</span>
      <span class="nt">&lt;ed:Description</span> <span class="na">xml:lang=</span><span class="s">"de"</span><span class="nt">&gt;</span>Das Goethe-Korpus des IDS Mannheim.<span class="nt">&lt;/ed:Description&gt;</span>
      <span class="nt">&lt;ed:Description</span> <span class="na">xml:lang=</span><span class="s">"en"</span><span class="nt">&gt;</span>The Goethe corpus of IDS Mannheim.<span class="nt">&lt;/ed:Description&gt;</span>
      <span class="nt">&lt;ed:LandingPageURI&gt;</span>http://repos.example.org/corpus1.html<span class="nt">&lt;/ed:LandingPageURI&gt;</span>
      <span class="nt">&lt;ed:Languages&gt;</span>
        <span class="nt">&lt;ed:Language&gt;</span>deu<span class="nt">&lt;/ed:Language&gt;</span>
      <span class="nt">&lt;/ed:Languages&gt;</span>
      <span class="nt">&lt;ed:AvailableDataViews</span> <span class="na">ref=</span><span class="s">"hits"</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;/ed:Resource&gt;</span>
  <span class="nt">&lt;/ed:Resources&gt;</span>
<span class="nt">&lt;/ed:EndpointDescription&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#ed-simple">Example simple Endpoint Description</a> shows a simple Endpoint Description for an Endpoint that only supports the <em>Basic Search</em> Capability and only provides the Generic Hits Data View, which is indicated by a <code>&lt;ed:SupportedDataView&gt;</code> element. This element carries an <code>@id</code> attribute with a value of <code>hits</code>, the recommended value for the short identifier, and indicates a delivery policy of <em>send-by-default</em> by the <code>@delivery-policy</code> attribute. It only provides one top-level resource identified by the persistent identifier <code>http://hdl.handle.net/4711/0815</code>. The resource has a title as well as a description in German and English. A landing page is located at <code>http://repos.example.org/corpus1.html</code>. The predominant language in the resource contents is German. Only the Generic Hits Data View is supported for this resource, because the <code>&lt;ed:AvailableDataViews&gt;</code> element only references the <code>&lt;ed:SupporedDataView&gt;</code> element with the <code>@id</code> with a value of hits.</p>
</div>
<div id="ed-simple-cmdi" class="listingblock">
<div class="title">Example of simple Endpoint Description with optional CMDI Data View</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="xml"><span class="nt">&lt;ed:EndpointDescription</span> <span class="na">xmlns:ed=</span><span class="s">"http://clarin.eu/fcs/endpoint-description"</span> <span class="na">version=</span><span class="s">"1"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;ed:Capabilities&gt;</span>
    <span class="nt">&lt;ed:Capability&gt;</span>http://clarin.eu/fcs/capability/basic-search<span class="nt">&lt;/ed:Capability&gt;</span>
  <span class="nt">&lt;/ed:Capabilities&gt;</span>
  <span class="nt">&lt;ed:SupportedDataViews&gt;</span>
    <span class="nt">&lt;ed:SupportedDataView</span> <span class="na">id=</span><span class="s">"hits"</span> <span class="na">delivery-policy=</span><span class="s">"send-by-default"</span><span class="nt">&gt;</span>application/x-clarin-fcs-hits+xml<span class="nt">&lt;/ed:SupportedDataView&gt;</span>
    <span class="nt">&lt;ed:SupportedDataView</span> <span class="na">id=</span><span class="s">"cmdi"</span> <span class="na">delivery-policy=</span><span class="s">"need-to-request"</span><span class="nt">&gt;</span>application/x-cmdi+xml<span class="nt">&lt;/ed:SupportedDataView&gt;</span>
  <span class="nt">&lt;/ed:SupportedDataViews&gt;</span>
  <span class="nt">&lt;ed:Resources&gt;</span>
    <span class="c">&lt;!-- top-level resource 1 --&gt;</span>
    <span class="nt">&lt;ed:Resource</span> <span class="na">pid=</span><span class="s">"http://hdl.handle.net/4711/0815"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;ed:Title</span> <span class="na">xml:lang=</span><span class="s">"de"</span><span class="nt">&gt;</span>Goethe Korpus<span class="nt">&lt;/ed:Title&gt;</span>
      <span class="nt">&lt;ed:Title</span> <span class="na">xml:lang=</span><span class="s">"en"</span><span class="nt">&gt;</span>Goethe corpus<span class="nt">&lt;/ed:Title&gt;</span>
      <span class="nt">&lt;ed:Description</span> <span class="na">xml:lang=</span><span class="s">"de"</span><span class="nt">&gt;</span>Das Goethe-Korpus des IDS Mannheim.<span class="nt">&lt;/ed:Description&gt;</span>
      <span class="nt">&lt;ed:Description</span> <span class="na">xml:lang=</span><span class="s">"en"</span><span class="nt">&gt;</span>The Goethe corpus of IDS Mannheim.<span class="nt">&lt;/ed:Description&gt;</span>
      <span class="nt">&lt;ed:LandingPageURI&gt;</span>http://repos.example.org/corpus1.html<span class="nt">&lt;/ed:LandingPageURI&gt;</span>
      <span class="nt">&lt;ed:Languages&gt;</span>
        <span class="nt">&lt;ed:Language&gt;</span>deu<span class="nt">&lt;/ed:Language&gt;</span>
      <span class="nt">&lt;/ed:Languages&gt;</span>
      <span class="nt">&lt;ed:AvailableDataViews</span> <span class="na">ref=</span><span class="s">"hits"</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;/ed:Resource&gt;</span>
    <span class="c">&lt;!-- top-level resource 2 --&gt;</span>
    <span class="nt">&lt;ed:Resource</span> <span class="na">pid=</span><span class="s">"http://hdl.handle.net/4711/0816"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;ed:Title</span> <span class="na">xml:lang=</span><span class="s">"de"</span><span class="nt">&gt;</span>Zeitungskorpus des Mannheimer Morgen<span class="nt">&lt;/ed:Title&gt;</span>
      <span class="nt">&lt;ed:Title</span> <span class="na">xml:lang=</span><span class="s">"en"</span><span class="nt">&gt;</span>Mannheimer Morgen newspaper corpus<span class="nt">&lt;/ed:Title&gt;</span>
      <span class="nt">&lt;ed:LandingPageURI&gt;</span>http://repos.example.org/corpus2.html<span class="nt">&lt;/ed:LandingPageURI&gt;</span>
      <span class="nt">&lt;ed:Languages&gt;</span>
        <span class="nt">&lt;ed:Language&gt;</span>deu<span class="nt">&lt;/ed:Language&gt;</span>
      <span class="nt">&lt;/ed:Languages&gt;</span>
      <span class="nt">&lt;ed:AvailableDataViews</span> <span class="na">ref=</span><span class="s">"hits cmdi"</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;ed:Resources&gt;</span>
        <span class="c">&lt;!-- sub-resource 1 of top-level resource 2 --&gt;</span>
        <span class="nt">&lt;ed:Resource</span> <span class="na">pid=</span><span class="s">"http://hdl.handle.net/4711/0816-1"</span><span class="nt">&gt;</span>
          <span class="nt">&lt;ed:Title</span> <span class="na">xml:lang=</span><span class="s">"de"</span><span class="nt">&gt;</span>Zeitungskorpus des Mannheimer Morgen (vor 1990)<span class="nt">&lt;/ed:Title&gt;</span>
          <span class="nt">&lt;ed:Title</span> <span class="na">xml:lang=</span><span class="s">"en"</span><span class="nt">&gt;</span>Mannheimer Morgen newspaper corpus (before 1990)<span class="nt">&lt;/ed:Title&gt;</span>
          <span class="nt">&lt;ed:LandingPageURI&gt;</span>http://repos.example.org/corpus2.html#sub1<span class="nt">&lt;/ed:LandingPageURI&gt;</span>
          <span class="nt">&lt;ed:Languages&gt;</span>
            <span class="nt">&lt;ed:Language&gt;</span>deu<span class="nt">&lt;/ed:Language&gt;</span>
          <span class="nt">&lt;/ed:Languages&gt;</span>
          <span class="nt">&lt;ed:AvailableDataViews</span> <span class="na">ref=</span><span class="s">"hits cmdi"</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;/ed:Resource&gt;</span>
        <span class="c">&lt;!-- sub-resource 2 of top-level resource 2 --&gt;</span>
        <span class="nt">&lt;ed:Resource</span> <span class="na">pid=</span><span class="s">"http://hdl.handle.net/4711/0816-2"</span><span class="nt">&gt;</span>
          <span class="nt">&lt;ed:Title</span> <span class="na">xml:lang=</span><span class="s">"de"</span><span class="nt">&gt;</span>Zeitungskorpus des Mannheimer Morgen (nach 1990)<span class="nt">&lt;/ed:Title&gt;</span>
          <span class="nt">&lt;ed:Title</span> <span class="na">xml:lang=</span><span class="s">"en"</span><span class="nt">&gt;</span>Mannheimer Morgen newspaper corpus (after 1990)<span class="nt">&lt;/ed:Title&gt;</span>
          <span class="nt">&lt;ed:LandingPageURI&gt;</span>http://repos.example.org/corpus2.html#sub2<span class="nt">&lt;/ed:LandingPageURI&gt;</span>
          <span class="nt">&lt;ed:Languages&gt;</span>
            <span class="nt">&lt;ed:Language&gt;</span>deu<span class="nt">&lt;/ed:Language&gt;</span>
          <span class="nt">&lt;/ed:Languages&gt;</span>
          <span class="nt">&lt;ed:AvailableDataViews</span> <span class="na">ref=</span><span class="s">"hits cmdi"</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;/ed:Resource&gt;</span>
      <span class="nt">&lt;/ed:Resources&gt;</span>
    <span class="nt">&lt;/ed:Resource&gt;</span>
  <span class="nt">&lt;/ed:Resources&gt;</span>
<span class="nt">&lt;/ed:EndpointDescription&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The more complex <a href="#ed-simple-cmdi">Example CMDI Endpoint Description</a> show an Endpoint Description for an Endpoint that, similar to <a href="#ed-simple">Example simple Endpoint Description</a>, supports the <em>Basic Search</em> capability. In addition to the Generic Hits Data View, it also supports the CMDI Data View. The delivery polices are <em>send-by-default</em> for the Generic Hits Data View and <em>need-to-request</em> for the CMDI Data View. The Endpoint has two top-level resources (identified by the persistent identifiers <code>http://hdl.handle.net/4711/0815</code> and <code>http://hdl.handle.net/4711/0816</code>. The second top-level resource has two independently searchable sub-resources, identified by the persistent identifier <code>http://hdl.handle.net/4711/0816-1</code> and <code>http://hdl.handle.net/4711/0816-2</code>. All resources are described using several properties, like title, description, etc. The first top-level resource provides only the Generic Hits Data View, while the other top-level resource including its children provide the Generic Hits and the CMDI Data Views.</p>
</div>
</div>
<div class="sect2">
<h3 id="_endpoint_custom_extension">2.4. Endpoint Custom Extension</h3>
<div class="paragraph">
<p>Endpoints can add custom extensions, i.e. custom data, to the Result Format. This extension mechanism can for example be used to provide hints for an (XSLT/XQuery) application that works directly on CLARIN-FCS, e.g. to allow it to generate back and forward links to navigate in a result set.</p>
</div>
<div class="paragraph">
<p>An Endpoint <code>MAY</code> add arbitrary XML fragments to the extension hooks provided in the &lt;fcs:Resource&gt; element (see the XML schema for <a href="attachments/Resource.xsd">"Resource.xsd"</a>). The XML fragment for the extension <code>MUST</code> use a custom XML namespace name for the extension. Endpoints <code>MUST NOT</code> use XML namespace names that start with the prefixes <code>http://clarin.eu</code>, <code>http://www.clarin.eu/</code>, <code>https://clarin.eu</code> or <code>https://www.clarin.eu/</code>.</p>
</div>
<div class="paragraph">
<p>A Client <code>MUST</code> ignore any custom extensions it does not understand and skip over these XML fragments when parsing the Endpoint&#8217;s response.</p>
</div>
<div class="paragraph">
<p>The appendix contains an <a href="#_endpoint_custom_extensions">example</a>, how an extension could be implemented.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_clarin_fcs_to_srucql_binding">3. CLARIN-FCS to SRU/CQL binding</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_srucql">3.1. SRU/CQL</h3>
<div class="paragraph">
<p>SRU (Search/Retrieve via URL) specifies a general communication protocol for searching and retrieving records and the CQL (Contextual Query Language) specifies an extensible query language. CLARIN-FCS is built on SRU 1.2. A subsequent specification may be built on SRU 2.0.</p>
</div>
<div class="paragraph">
<p>Endpoints and Clients <code>MUST</code> implement the SRU/CQL protocol suite as defined in <a href="#ref:OASIS-SRU-Overview">OASIS-SRU-Overview</a>, <a href="#ref:OASIS-SRU-APD">OASIS-SRU-APD</a>, <a href="#ref:OASIS-CQL">OASIS-CQL</a>, <a href="#ref:SRU-Explain">SRU-Explain</a>, <a href="#ref:SRU-Scan">SRU-Scan</a>, especially with respect to:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Data Model,</p>
</li>
<li>
<p>Query Model,</p>
</li>
<li>
<p>Processing Model,</p>
</li>
<li>
<p>Result Set Model, and</p>
</li>
<li>
<p>Diagnostics Model.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Endpoints and Clients <code>MUST</code> implement the APD Binding for SRU 1.2, as defined in <a href="#ref:OASIS-SRU12">OASIS-SRU12</a>. Endpoints and Clients <code>MAY</code> also implement APD binding for version 1.1 or version 2.0.</p>
</div>
<div class="paragraph">
<p>Endpoints and Clients <code>MUST</code> use the following XML namespace names (namespace URIs) for serializing responses:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>http://www.loc.gov/zing/srw/</code> for SRU response documents, and</p>
</li>
<li>
<p><code>http://www.loc.gov/zing/srw/diagnostic/</code> for diagnostics within SRU response documents.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>CLARIN-FCS deviates from the OASIS specification <a href="#ref:OASIS-SRU-Overview">OASIS-SRU-Overview</a> and <a href="#ref:OASIS-SRU12">OASIS-SRU12</a> to ensure backwards comparability with SRU 1.2 services as they were defined by the <a href="#ref:LOC-SRU12">LOC-SRU12</a>.</p>
</div>
<div class="paragraph">
<p>Endpoints or Clients <code>MUST</code> support CQL conformance <em>Level 2</em> (as defined in <a href="#ref:OASIS-CQL">OASIS-CQL, section 6</a>), i.e. be able to <em>parse</em> (Endpoints) or <em>serialize</em> (Clients) all of CQL and respond with appropriate error messages to the search/retrieve protocol interface.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
this does <em>not imply</em>, that Endpoints are <em>required</em> to support all of CQL, but rather that they are able to <em>parse</em> all of CQL and generate the appropriate error message, if a query includes a feature they do not support.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Endpoints <code>MUST</code> generate diagnostics according to <a href="#ref:OASIS-SRU12">OASIS-SRU12, Appendix C</a> for error conditions or to indicate unsupported features. Unfortunately, the OASIS specification does not provides a comprehensive list of diagnostics for CQL-related errors. Therefore, Endpoints <code>MUST</code> use diagnostics from <a href="#ref:LOC-DIAG">LOC-DIAG, section "Diagnostics Relating to CQL"</a> for CQL related errors.</p>
</div>
<div class="paragraph">
<p>Endpoints <code>MUST</code> support the HTTP GET <a href="#ref:OASIS-SRU12">OASIS-SRU12, Appendix B.1</a> and HTTP POST <a href="#ref:OASIS-SRU12">OASIS-SRU12, Appendix B.2</a> lower level protocol binding. Endpoints <code>MAY</code> also support the SOAP <a href="#ref:OASIS-SRU12">OASIS-SRU12, Appendix B.3</a> binding.</p>
</div>
</div>
<div class="sect2">
<h3 id="_operation_explain">3.2. Operation <em>explain</em></h3>
<div class="paragraph">
<p>The <em>explain</em> operation of the SRU protocol serves to announce server capabilities and to allow clients to configure themselves automatically. This operation is used similarly.</p>
</div>
<div class="paragraph">
<p>The Endpoint <code>MUST</code> respond to a <em>explain</em> request by a proper <em>explain</em> response. As per SRU-Explain, the response <code>MUST</code> contain one <code>&lt;sru:record&gt;</code> element that contains an <em>SRU Explain</em> record. The <code>&lt;sru:recordSchema&gt;</code> element <code>MUST</code> contain the literal <code>http://explain.z3950.org/dtd/2.0/</code>, i.e. the official <em>identifier</em> for Explain records.</p>
</div>
<div class="paragraph">
<p>According to the Capabilities supported by the Endpoint the Explain record <code>MUST</code> contain the following elements:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">"Basic Search" Capability</dt>
<dd>
<div class="paragraph">
<p><code>&lt;zr:serverInfo&gt;</code> as defined in <a href="#ref:SRU-Explain">SRU-Explain</a> (<code>REQUIRED</code>).</p>
</div>
<div class="paragraph">
<p><code>&lt;zr:databaseInfo&gt;</code> as defined in <a href="#ref:SRU-Explain">SRU-Explain</a> (<code>REQUIRED</code>).</p>
</div>
<div class="paragraph">
<p><code>&lt;zr:schemaInfo&gt;</code> as defined in <a href="#ref:SRU-Explain">SRU-Explain</a> (<code>REQUIRED</code>). This element <code>MUST</code> contain an element <code>&lt;zr:schema&gt;</code> with an <code>@identifier</code> attribute with a value of <code>http://clarin.eu/fcs/resource</code> and a <code>@name</code> attribute with a value of <code>fcs</code>.</p>
</div>
<div class="paragraph">
<p><code>&lt;zr:configInfo&gt;</code> is <code>OPTIONAL</code>.</p>
</div>
<div class="paragraph">
<p>Other capabilities may define how the <code>&lt;zr:indexInfo&gt;</code> element is to be used, therefore it is <code>NOT RECOMMENDED</code> for Endpoints to use it in custom extensions.</p>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>To support auto-configuration in CLARIN-FCS, the Endpoint <code>MUST</code> provide an <em>Endpoint Description</em>. The Endpoint Description is included in explain response utilizing SRUs extension mechanism, i.e. by embedding an XML fragment into the <code>&lt;sru:extraResponseData&gt;</code> element. The Endpoint <code>MUST</code> include the Endpoint Description <em>only</em> if the Client performs an explain request with the <em>extra request parameter</em> <code>x-fcs-endpoint-description</code> with a value of <code>true</code>. If the Client performs an explain request <em>without</em> supplying this extra request parameter the Endpoint <code>MUST NOT`</code> include the Endpoint Description. The format of the Endpoint Description XML fragment is defined in <a href="#_endpoint_description">Endpoint Description</a>.</p>
</div>
<div class="paragraph">
<p>The following example shows a request and response to an <em>explain</em> request with added extra request parameter <code>x-fcs-endpoint-description</code>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>HTTP GET request: Client → Endpoint:</p>
<div class="listingblock">
<div class="content">
<pre>http://repos.example.org/fcs-endpoint?operation=explain&amp;version=1.2&amp;x-fcs-endpoint-description=true</pre>
</div>
</div>
</li>
<li>
<p>HTTP response: Endpoint → Client:</p>
<div id="op-explain-sru12-response" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="xml"><span class="cp">&lt;?xml version='1.0' encoding='utf-8'?&gt;</span>
<span class="nt">&lt;sru:explainResponse</span> <span class="na">xmlns:sru=</span><span class="s">"http://www.loc.gov/zing/srw/"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;sru:version&gt;</span>1.2<span class="nt">&lt;/sru:version&gt;</span>
  <span class="nt">&lt;sru:record&gt;</span>
    <span class="nt">&lt;sru:recordSchema&gt;</span>http://explain.z3950.org/dtd/2.0/<span class="nt">&lt;/sru:recordSchema&gt;</span>
    <span class="nt">&lt;sru:recordPacking&gt;</span>xml<span class="nt">&lt;/sru:recordPacking&gt;</span>
    <span class="nt">&lt;sru:recordData&gt;</span>
      <span class="nt">&lt;zr:explain</span> <span class="na">xmlns:zr=</span><span class="s">"http://explain.z3950.org/dtd/2.0/"</span><span class="nt">&gt;</span>
        <span class="c">&lt;!-- &lt;zr:serverInfo &gt; is REQUIRED --&gt;</span>
        <span class="nt">&lt;zr:serverInfo</span> <span class="na">protocol=</span><span class="s">"SRU"</span> <span class="na">version=</span><span class="s">"1.2"</span> <span class="na">transport=</span><span class="s">"http"</span><span class="nt">&gt;</span>
          <span class="nt">&lt;zr:host&gt;</span>repos.example.org<span class="nt">&lt;/zr:host&gt;</span>
          <span class="nt">&lt;zr:port&gt;</span>80<span class="nt">&lt;/zr:port&gt;</span>
          <span class="nt">&lt;zr:database&gt;</span>fcs-endpoint<span class="nt">&lt;/zr:database&gt;</span>
        <span class="nt">&lt;/zr:serverInfo&gt;</span>
        <span class="c">&lt;!-- &lt;zr:databaseInfo&gt; is REQUIRED --&gt;</span>
        <span class="nt">&lt;zr:databaseInfo&gt;</span>
          <span class="nt">&lt;zr:title</span> <span class="na">lang=</span><span class="s">"de"</span><span class="nt">&gt;</span>Goethe Corpus<span class="nt">&lt;/zr:title&gt;</span>
          <span class="nt">&lt;zr:title</span> <span class="na">lang=</span><span class="s">"en"</span> <span class="na">primary=</span><span class="s">"true"</span><span class="nt">&gt;</span>Goethe Korpus<span class="nt">&lt;/zr:title&gt;</span>
          <span class="nt">&lt;zr:description</span> <span class="na">lang=</span><span class="s">"de"</span><span class="nt">&gt;</span>Das Goethe-Korpus des IDS Mannheim.<span class="nt">&lt;/zr:description&gt;</span>
          <span class="nt">&lt;zr:description</span> <span class="na">lang=</span><span class="s">"en"</span> <span class="na">primary=</span><span class="s">"true"</span><span class="nt">&gt;</span>The Goethe corpus of IDS Mannheim.<span class="nt">&lt;/zr:description&gt;</span>
        <span class="nt">&lt;/zr:databaseInfo&gt;</span>
        <span class="c">&lt;!-- &lt;zr:schemaInfo&gt; is REQUIRED --&gt;</span>
        <span class="nt">&lt;zr:schemaInfo&gt;</span>
          <span class="nt">&lt;zr:schema</span> <span class="na">identifier=</span><span class="s">"http://clarin.eu/fcs/resource"</span> <span class="na">name=</span><span class="s">"fcs"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;zr:title</span> <span class="na">lang=</span><span class="s">"en"</span> <span class="na">primary=</span><span class="s">"true"</span><span class="nt">&gt;</span>CLARIN Federated Content Search<span class="nt">&lt;/zr:title&gt;</span>
          <span class="nt">&lt;/zr:schema&gt;</span>
        <span class="nt">&lt;/zr:schemaInfo&gt;</span>
        <span class="c">&lt;!-- &lt;zr:configInfo&gt; is OPTIONAL --&gt;</span>
        <span class="nt">&lt;zr:configInfo&gt;</span>
          <span class="nt">&lt;zr:default</span> <span class="na">type=</span><span class="s">"numberOfRecords"</span><span class="nt">&gt;</span>250<span class="nt">&lt;/zr:default&gt;</span>
          <span class="nt">&lt;zr:setting</span> <span class="na">type=</span><span class="s">"maximumRecords"</span><span class="nt">&gt;</span>1000<span class="nt">&lt;/zr:setting&gt;</span>
        <span class="nt">&lt;/zr:configInfo&gt;</span>
      <span class="nt">&lt;/zr:explain&gt;</span>
    <span class="nt">&lt;/sru:recordData&gt;</span>
  <span class="nt">&lt;/sru:record&gt;</span>
  <span class="c">&lt;!-- &lt;sru:echoedExplainRequest&gt; is OPTIONAL --&gt;</span>
  <span class="nt">&lt;sru:echoedExplainRequest&gt;</span>
    <span class="nt">&lt;sru:version&gt;</span>1.2<span class="nt">&lt;/sru:version&gt;</span>
    <span class="nt">&lt;sru:baseUrl&gt;</span>http://repos.example.org/fcs-endpoint<span class="nt">&lt;/sru:baseUrl&gt;</span>
  <span class="nt">&lt;/sru:echoedExplainRequest&gt;</span>
  <span class="nt">&lt;sru:extraResponseData&gt;</span>
    <span class="nt">&lt;ed:EndpointDescription</span> <span class="na">xmlns:ed=</span><span class="s">"http://clarin.eu/fcs/endpoint-description"</span> <span class="na">version=</span><span class="s">"1"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;ed:Capabilities&gt;</span>
        <span class="nt">&lt;ed:Capability&gt;</span>http://clarin.eu/fcs/capability/basic-search<span class="nt">&lt;/ed:Capability&gt;</span>
      <span class="nt">&lt;/ed:Capabilities&gt;</span>
      <span class="nt">&lt;ed:SupportedDataViews&gt;</span>
        <span class="nt">&lt;ed:SupportedDataView</span> <span class="na">id=</span><span class="s">"hits"</span> <span class="na">delivery-policy=</span><span class="s">"send-by-default"</span><span class="nt">&gt;</span>application/x-clarin-fcs-hits+xml<span class="nt">&lt;/ed:SupportedDataView&gt;</span>
      <span class="nt">&lt;/ed:SupportedDataViews&gt;</span>
      <span class="nt">&lt;ed:Resources&gt;</span>
        <span class="c">&lt;!-- just one top-level resource at the Endpoint --&gt;</span>
        <span class="nt">&lt;ed:Resource</span> <span class="na">pid=</span><span class="s">"http://hdl.handle.net/4711/0815"</span><span class="nt">&gt;</span>
          <span class="nt">&lt;ed:Title</span> <span class="na">xml:lang=</span><span class="s">"de"</span><span class="nt">&gt;</span>Goethe Corpus<span class="nt">&lt;/ed:Title&gt;</span>
          <span class="nt">&lt;ed:Title</span> <span class="na">xml:lang=</span><span class="s">"en"</span><span class="nt">&gt;</span>Goethe Korpus<span class="nt">&lt;/ed:Title&gt;</span>
          <span class="nt">&lt;ed:Description</span> <span class="na">xml:lang=</span><span class="s">"de"</span><span class="nt">&gt;</span>Das Goethe-Korpus des IDS Mannheim.<span class="nt">&lt;/ed:Description&gt;</span>
          <span class="nt">&lt;ed:Description</span> <span class="na">xml:lang=</span><span class="s">"en"</span><span class="nt">&gt;</span>The Goethe corpus of IDS Mannheim.<span class="nt">&lt;/ed:Description&gt;</span>
          <span class="nt">&lt;ed:LandingPageURI&gt;</span>http://repos.example.org/corpus1.html<span class="nt">&lt;/ed:LandingPageURI&gt;</span>
          <span class="nt">&lt;ed:Languages&gt;</span>
            <span class="nt">&lt;ed:Language&gt;</span>deu<span class="nt">&lt;/ed:Language&gt;</span>
          <span class="nt">&lt;/ed:Languages&gt;</span>
          <span class="nt">&lt;ed:AvailableDataViews</span> <span class="na">ref=</span><span class="s">"hits"</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;/ed:Resource&gt;</span>
      <span class="nt">&lt;/ed:Resources&gt;</span>
    <span class="nt">&lt;/ed:EndpointDescription&gt;</span>
  <span class="nt">&lt;/sru:extraResponseData&gt;</span>
<span class="nt">&lt;/sru:explainResponse&gt;</span></code></pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_operation_scan">3.3. Operation <em>scan</em></h3>
<div class="paragraph">
<p>The <em>scan</em> operation of the SRU protocol is currently not used in the <em>Basic Search</em> capability of CLARIN-FCS. Future capabilities may use this operation, therefore it <code>NOT RECOMMENDED</code> for Endpoints to define custom extensions that use this operation.</p>
</div>
</div>
<div class="sect2">
<h3 id="_operation_searchretrieve">3.4. Operation <em>searchRetrieve</em></h3>
<div class="paragraph">
<p>The <em>searchRetrieve</em> operation of the SRU protocol is used for searching in the Resources that are provided by the Endpoint. The SRU protocol defines the serialization of request and response formats in <a href="#ref:OASIS-SRU12">OASIS-SRU12</a>. In SRU, search result hits are encoded down to a record level, i.e. the <code>&lt;sru:record&gt;</code> element, and SRU allows records to be serialized in various formats, so called record schemas.</p>
</div>
<div class="paragraph">
<p>Endpoints <code>MUST</code> support the CLARIN-FCS record schema (see section <a href="#_result_format">Result Format</a>) and <code>MUST</code> use the value <code>http://clarin.eu/fcs/resource</code> for the <em>responseItemType</em> ("record schema identifier"). Endpoints <code>MUST</code> represent exactly <em>one hit</em> within the Resource as one SRU record, i.e. <code>&lt;sru:record&gt;</code> element.</p>
</div>
<div class="paragraph">
<p>The following example shows a request and response to a <em>searchRetrieve</em> request with a <em>term-only</em> query for "cat":</p>
</div>
<div class="ulist">
<ul>
<li>
<p>HTTP GET request: Client → Endpoint:</p>
<div class="listingblock">
<div class="content">
<pre>http://repos.example.org/fcs-endpoint?operation=searchRetrieve&amp;version=1.2&amp;query=cat</pre>
</div>
</div>
</li>
<li>
<p>HTTP response: Endpoint → Client:</p>
<div id="op-searchretrieve-sru12-response" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="xml"><span class="cp">&lt;?xml version='1.0' encoding='utf-8'?&gt;</span>
<span class="nt">&lt;sru:searchRetrieveResponse</span> <span class="na">xmlns:sru=</span><span class="s">"http://www.loc.gov/zing/srw/"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;sru:version&gt;</span>1.2<span class="nt">&lt;/sru:version&gt;</span>
  <span class="nt">&lt;sru:numberOfRecords&gt;</span>6<span class="nt">&lt;/sru:numberOfRecords&gt;</span>
  <span class="nt">&lt;sru:records&gt;</span>
    <span class="nt">&lt;sru:record&gt;</span>
      <span class="nt">&lt;sru:recordSchema&gt;</span>http://clarin.eu/fcs/resource<span class="nt">&lt;/sru:recordSchema&gt;</span>
      <span class="nt">&lt;sru:recordPacking&gt;</span>xml<span class="nt">&lt;/sru:recordPacking&gt;</span>
      <span class="nt">&lt;sru:recordData&gt;</span>
        <span class="nt">&lt;fcs:Resource</span> <span class="na">xmlns:fcs=</span><span class="s">"http://clarin.eu/fcs/resource"</span> <span class="na">pid=</span><span class="s">"http://hdl.handle.net/4711/08-15"</span><span class="nt">&gt;</span>
          <span class="nt">&lt;fcs:ResourceFragment&gt;</span>
            <span class="nt">&lt;fcs:DataView</span> <span class="na">type=</span><span class="s">"application/x-clarin-fcs-hits+xml"</span><span class="nt">&gt;</span>
              <span class="nt">&lt;hits:Result</span> <span class="na">xmlns:hits=</span><span class="s">"http://clarin.eu/fcs/dataview/hits"</span><span class="nt">&gt;</span>
                The quick brown <span class="nt">&lt;hits:Hit&gt;</span>cat<span class="nt">&lt;/hits:Hit&gt;</span> jumps over the lazy dog.
              <span class="nt">&lt;/hits:Result&gt;</span>
            <span class="nt">&lt;/fcs:DataView&gt;</span>
          <span class="nt">&lt;/fcs:ResourceFragment&gt;</span>
        <span class="nt">&lt;/fcs:Resource&gt;</span>
      <span class="nt">&lt;/sru:recordData&gt;</span>
      <span class="nt">&lt;sru:recordPosition&gt;</span>1<span class="nt">&lt;/sru:recordPosition&gt;</span>
    <span class="nt">&lt;/sru:record&gt;</span>
    <span class="c">&lt;!-- more &lt;sru:records&gt; omitted for brevity --&gt;</span>
  <span class="nt">&lt;/sru:records&gt;</span>
  <span class="c">&lt;!-- &lt;sru:echoedSearchRetrieveRequest&gt; is OPTIONAL --&gt;</span>
  <span class="nt">&lt;sru:echoedSearchRetrieveRequest&gt;</span>
    <span class="nt">&lt;sru:version&gt;</span>1.2<span class="nt">&lt;/sru:version&gt;</span>
    <span class="nt">&lt;sru:query&gt;</span>cat<span class="nt">&lt;/sru:query&gt;</span>
    <span class="nt">&lt;sru:xQuery</span> <span class="na">xmlns=</span><span class="s">"http://www.loc.gov/zing/cql/xcql/"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;searchClause&gt;</span>
        <span class="nt">&lt;index&gt;</span>cql.serverChoice<span class="nt">&lt;/index&gt;</span>
        <span class="nt">&lt;relation&gt;</span>
          <span class="nt">&lt;value&gt;</span>=<span class="nt">&lt;/value&gt;</span>
        <span class="nt">&lt;/relation&gt;</span>
        <span class="nt">&lt;term&gt;</span>cat<span class="nt">&lt;/term&gt;</span>
      <span class="nt">&lt;/searchClause&gt;</span>
    <span class="nt">&lt;/sru:xQuery&gt;</span>
    <span class="nt">&lt;sru:startRecord&gt;</span>1<span class="nt">&lt;/sru:startRecord&gt;</span>
    <span class="nt">&lt;sru:baseUrl&gt;</span>http://repos.example.org/fcs-endpoint<span class="nt">&lt;/sru:baseUrl&gt;</span>
  <span class="nt">&lt;/sru:echoedSearchRetrieveRequest&gt;</span>
<span class="nt">&lt;/sru:searchRetrieveResponse&gt;</span></code></pre>
</div>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>In general, the Endpoint is <code>REQUIRED</code> to accept an <em>unrestricted search</em> and SHOULD perform the search operation on <em>all</em> Resources that are available at the Endpoint. If that is for some reason not feasible, e.g. performing an unrestricted search would allocate too many resources, the Endpoint <code>MAY</code> independently restrict the search to a scope that it can handle. If it does so, it <code>MUST</code> issue a non-fatal diagnostics <code>http://clarin.eu/fcs/diagnostic/2</code> ("Resource set too large. Query context automatically adjusted."). The details field of diagnostics <code>MUST</code> contain the persistent identifier of the resources to which the query scope was limited to. If the Endpoint limits the query scope to more than one resource, it <code>MUST</code> generate a <em>separate</em> non-fatal diagnostic <code>http://clarin.eu/fcs/diagnostic/2</code> for each of the resources.</p>
</div>
<div class="paragraph">
<p>The Client can request the Endpoint to <em>restrict the search</em> to a sub-resource of these Resources. In this case, the Client <code>MUST</code> pass a comma-separated list of persistent identifiers in the <code>x-fcs-context</code> extra request parameter of the <em>searchRetrieve</em> request. The Endpoint <code>MUST</code> then restrict the search to those Resources, which are identified by the persistent identifiers passed by the Client. If a Client requests too many resources for the Endpoint to handle with <code>x-fcs-context</code>, the Endpoint <code>MAY</code> issue a fatal diagnostic <code>http://clarin.eu/fcs/diagnostic/3</code> ("Resource set too large. Cannot perform Query.") and terminate processing. Alternatively, the Endpoint <code>MAY</code> also automatically adjust the scope and issue a non-fatal diagnostic <code>http://clarin.eu/fcs/diagnostic/2</code> (see above). And Endpoint <code>MUST NOT</code> issue a <code>http://clarin.eu/fcs/diagnostic/3</code> diagnostic in response to a request, if a Client performed the request without the <code>x-fcs-context</code> extra request parameter.</p>
</div>
<div class="paragraph">
<p>The Client can extract all valid persistent identifiers from the <code>@pid</code> attribute of the <code>&lt;ed:Resource&gt;</code> element, obtained by the <em>explain</em> request (see section <a href="#_operation_explain">Operation "explain"</a> and section <a href="#_endpoint_description">Endpoint Description</a>). The list of persistent identifiers can get extensive, but a Client can use the HTTP POST method instead of HTTP GET method for submitting the request.</p>
</div>
<div class="paragraph">
<p>For example, to restrict the search to the Resource with the persistent identifier <code>http://hdl.handle.net/4711/0815</code> the Client must issue the following request:</p>
</div>
<div class="paragraph">
<p>+</p>
</div>
<div class="listingblock">
<div class="content">
<pre>http://repos.example.org/fcs-endpoint?operation=searchRetrieve&amp;version=1.2&amp;query=cat&amp;x-fcs-context=http://hdl.handle.net/4711/0815</pre>
</div>
</div>
<div class="paragraph">
<p>To restrict the search to the Resources with the persistent identifier <a href="http://hdl.handle.net/4711/0815" class="bare">http://hdl.handle.net/4711/0815</a> and <a href="http://hdl.handle.net/4711/0816-2" class="bare">http://hdl.handle.net/4711/0816-2</a> the Client must issue the following request:</p>
</div>
<div class="paragraph">
<p>+</p>
</div>
<div class="listingblock">
<div class="content">
<pre>http://repos.example.org/fcs-endpoint?operation=searchRetrieve&amp;version=1.2&amp;query=cat&amp;x-fcs-context=http://hdl.handle.net/4711/0815,http://hdl.handle.net/4711/0816-2</pre>
</div>
</div>
<div class="paragraph">
<p>If an invalid persistent identifier is passed by the Client, the Endpoint <code>MUST</code> issue a <code>http://clarin.eu/fcs/diagnostic/1</code> diagnostic, i.e. add the appropriate XML fragment to the <code>&lt;sru:diagnostics&gt;</code> element of the response. The Endpoint <code>MAY</code> treat this condition as fatal, i.e. just issue the diagnostic and perform no search, or it <code>MAY</code> treat it as non-fatal and perform the search.</p>
</div>
<div class="paragraph">
<p>If a Client wants to request one or more Data Views, that are handled by Endpoint with the <em>need-to-request</em> delivery policy, it <code>MUST</code> pass a comma-separated list of <em>Data View identifier</em> in the <code>x-fcs-dataviews</code> extra request parameter of the 'searchRetrieve' request. A Client can extract valid values for the <em>Data View identifiers</em> from the <code>@id</code> attribute of the <code>&lt;ed:SupportedDataView&gt;</code> elements in the Endpoint Description of the Endpoint (see section <a href="#_operation_explain">Operation "explain"</a> and section <a href="#_endpoint_description">Endpoint Description</a>).</p>
</div>
<div class="paragraph">
<p>For example, to request the CMDI Data View from an Endpoint that has an Endpoint Description, as described in <a href="#ed-simple-cmdi">Example of simple Endpoint Description with optional CMDI Data View</a>, a Client would need to use the <em>Data View identifier</em> <code>cmdi</code> and submit the following request:</p>
</div>
<div class="paragraph">
<p>+</p>
</div>
<div class="listingblock">
<div class="content">
<pre>http://repos.example.org/fcs-endpoint?operation=searchRetrieve&amp;version=1.2&amp;query=cat&amp;x-fcs-dataviews=cmdi</pre>
</div>
</div>
<div class="paragraph">
<p>If an invalid <em>Data View identifier</em> is passed by the Client, the Endpoint <code>MUST</code> issue a <code>http://clarin.eu/fcs/diagnostic/4</code> diagnostic, i.e. add the appropriate XML fragment to the <code>&lt;sru:diagnostics&gt;</code> element of the response. The Endpoint <code>MAY</code> treat this condition as fatal, i.e. simply issue the diagnostic and perform no search, or it <code>MAY</code> treat it a non-fatal and perform the search.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_normative_appendix">A. Normative Appendix</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_list_of_extra_request_parameters">A.1. List of extra request parameters</h3>
<div class="paragraph">
<p>The following extra request parameters are used in CLARIN-FCS. The column <em>SRU operations</em> lists the SRU operation, for which this extra request parameter is to be used. Clients <code>MUST NOT</code> use the parameter for an operation that is not listed in this column. However, if a Client sends an invalid parameter, an Endpoint <code>SHOULD</code> issue a fatal diagnostic "Unsupported Parameter" (<code>info:srw/diagnostic/1/8</code>) and stop processing the request. Alternatively, an Endpoint <code>MAY</code> silently ignore the invalid parameter.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 2. SRU extra request parameters</caption>
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 11.1111%;">
<col style="width: 33.3333%;">
<col style="width: 44.4445%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter Name</th>
<th class="tableblock halign-left valign-top">SRU operations</th>
<th class="tableblock halign-left valign-top">Allowed values</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>x-fcs-endpoint-description</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">explain</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code>; all other values are reserved and <code>MUST</code> not be used by Clients</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If the parameter is given (with the value <code>true</code>), the Endpoint <code>MUST</code> include an Endpoint Description in the <code>&lt;sru:extraResponseData&gt;</code> element of the <em>explain</em> response.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>x-fcs-context</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">searchRetrieve</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A comma-separated list of persistent identifiers</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The Endpoint <code>MUST</code> restrict the search to the resources identified by the persistent identifiers.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>x-fcs-dataviews</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">searchRetrieve</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A comma-separated list of Data View identifiers</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The Endpoint <code>SHOULD</code> include the additional <em>need-to-request</em> type Data Views in the response.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_list_of_diagnostics">A.2. List of diagnostics</h3>
<div class="paragraph">
<p>Apart from the SRU diagnostics defined in <a href="#ref:OASIS-SRU12">OASIS-SRU12, Appendix C</a> and <a href="#ref:LOC-DIAG">LOC-DIAG</a>, the following diagnostics are used in CLARIN-FCS. The "Details Format" column specifies what <code>SHOULD</code> be returned in the details field. If this column is blank, the format is "undefined" and the Endpoint <code>MAY</code> return whatever it feels appropriate, including nothing.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 3. CLARIN-FCS diagnostics</caption>
<colgroup>
<col style="width: 22.2222%;">
<col style="width: 22.2222%;">
<col style="width: 22.2222%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Identifier URI</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Details Format</th>
<th class="tableblock halign-left valign-top">Note</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="http://clarin.eu/fcs/diagnostic/1" class="bare">http://clarin.eu/fcs/diagnostic/1</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Persistent identifier passed by the Client for restricting the search is invalid.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The offending persistent identifier.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If more than one invalid persistent identifiers were submitted by the Client, the Endpoint <code>MUST</code> generate a separate diagnostic for each invalid persistent identifier.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="http://clarin.eu/fcs/diagnostic/2" class="bare">http://clarin.eu/fcs/diagnostic/2</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Resource set too large. Query context automatically adjusted.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The persistent identifier of the resource to which the query context was adjusted.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If an Endpoint limited the query context to more than one resource, it <code>MUST</code> generate a separate diagnostic for each resource to which the query context was adjusted.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="http://clarin.eu/fcs/diagnostic/3" class="bare">http://clarin.eu/fcs/diagnostic/3</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Resource set too large. Cannot perform Query.</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="http://clarin.eu/fcs/diagnostic/4" class="bare">http://clarin.eu/fcs/diagnostic/4</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Requested Data View not valid for this resource.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The Data View MIME type.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If more than one invalid Data View was requested, the Endpoint <code>MUST</code> generate a separate diagnostic for each invalid Data View.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_non_normative_appendix">B. Non-normative Appendix</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following sections are non-normative.</p>
</div>
<div class="sect2">
<h3 id="_syntax_variant_for_handle_system_persistent_identifier_uris">B.1. Syntax variant for Handle system Persistent Identifier URIs</h3>
<div class="paragraph">
<p>Persistent Identifiers from the Handle system are defined in two syntax variants: a regular URI format for the Handle protocol, i.e. with a <code>hdl:</code> prefix, or <em>actionable</em> URIs with a <code><a href="http://hdl.handle.net/" class="bare">http://hdl.handle.net/</a></code> prefix. Generally, CLARIN software should support both syntax variants, therefore the CLARIN-FCS Interface Specification does not endorse a specific syntax variant. However, Endpoints are recommended to use the <em>actionable</em> syntax variant.</p>
</div>
</div>
<div class="sect2">
<h3 id="_referring_to_an_endpoint_from_a_cmdi_record">B.2. Referring to an Endpoint from a CMDI record</h3>
<div class="paragraph">
<p>Centers are encouraged to provide links to their CLARIN-FCS Endpoints in the metadata records for their resources. Other services, like the VLO, can use this information for automatically configuring an Aggregator for searching resources at the Endpoint. To refer to an Endpoint, a <code>&lt;cmdi:ResourceProxy&gt;</code> element with child-element <code>&lt;cmdi:ResourceType&gt;</code> set to the value <code>SearchService</code> and a <code>@mimetype</code> attribute with a value of <code>application/sru+xml</code> need to be added to the CMDI record. The content of the <code>&lt;cmdi:ResourceRef&gt;</code> element must contain a URI that points to the Endpoint web service.</p>
</div>
<div class="listingblock">
<div class="title">Example of referring to an Endpoint from a CMDI record</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="xml"><span class="nt">&lt;cmdi:CMD</span> <span class="na">xmlns:cmdi=</span><span class="s">"http://www.clarin.eu/cmd/"</span> <span class="na">CMDVersion=</span><span class="s">"1.1"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;cmdi:Header&gt;</span>
    <span class="c">&lt;!-- ... --&gt;</span>
    <span class="nt">&lt;cmdi:MdSelfLink&gt;</span>http://hdl.handle.net/4711/0815<span class="nt">&lt;/cmdi:MdSelfLink&gt;</span>
    <span class="c">&lt;!-- ... --&gt;</span>
  <span class="nt">&lt;/cmdi:Header&gt;</span>
  <span class="nt">&lt;cmdi:Resources&gt;</span>
    <span class="nt">&lt;cmdi:ResourceProxyList&gt;</span>
      <span class="c">&lt;!-- ... --&gt;</span>
      <span class="nt">&lt;cmdi:ResourceProxy</span> <span class="na">id=</span><span class="s">"r4711"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;cmdi:ResourceType</span> <span class="na">mimetype=</span><span class="s">"application/sru+xml"</span><span class="nt">&gt;</span>SearchService<span class="nt">&lt;/cmdi:ResourceType&gt;</span>
        <span class="nt">&lt;cmdi:ResourceRef&gt;</span>http://repos.example.org/fcs-endpoint<span class="nt">&lt;/cmdi:ResourceRef&gt;</span>
      <span class="nt">&lt;/cmdi:ResourceProxy&gt;</span>
      <span class="c">&lt;!-- ... --&gt;</span>
    <span class="nt">&lt;/cmdi:ResourceProxyList&gt;</span>
  <span class="nt">&lt;/cmdi:Resources&gt;</span>
  <span class="c">&lt;!-- ... --&gt;</span>
<span class="nt">&lt;/cmdi:CMD&gt;</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_endpoint_custom_extensions">B.3. Endpoint custom extensions</h3>
<div class="paragraph">
<p>The CLARIN-FCS protocol specification allows Endpoints to add custom data to their responses, e.g. to provide hints to an (XSLT/XQuery) application that works directly on CLARIN-FCS. It could use the custom data to generate back and forward links for a GUI to navigate in a result set.</p>
</div>
<div class="paragraph">
<p>The following example illustrates how extensions can be embedded into the Result Format:</p>
</div>
<div class="listingblock">
<div class="title">Example of Endpoint custom extensions</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="xml"><span class="nt">&lt;fcs:Resource</span> <span class="na">xmlns:fcs=</span><span class="s">"http://clarin.eu/fcs/resource"</span> <span class="na">pid=</span><span class="s">"http://hdl.handle.net/4711/0815"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;fcs:DataView</span> <span class="na">type=</span><span class="s">"application/x-clarin-fcs-hits+xml"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;hits:Result</span> <span class="na">xmlns:hits=</span><span class="s">"http://clarin.eu/fcs/dataview/hits"</span><span class="nt">&gt;</span>
      The quick brown <span class="nt">&lt;hits:Hit&gt;</span>fox<span class="nt">&lt;/hits:Hit&gt;</span> jumps over the lazy <span class="nt">&lt;hits:Hit&gt;</span>dog<span class="nt">&lt;/hits:Hit&gt;</span>.
    <span class="nt">&lt;/hits:Result&gt;</span>
  <span class="nt">&lt;/fcs:DataView&gt;</span>

  <span class="c">&lt;!--
      NOTE: this is purely fictional and only serves to demonstrate how
            to add custom extensions to the result representation
            within CLARIN-FCS.
  --&gt;</span>

  <span class="c">&lt;!--
      Example 1: a hypothetical Endpoint extension for navigation in a result
      set: it basically provides a set of hrefs that a GUI can convert into
      navigation buttions.
  --&gt;</span>
  <span class="nt">&lt;nav:navigation</span> <span class="na">xmlns:nav=</span><span class="s">"http://repos.example.org/navigation"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;nav:curr</span> <span class="na">href=</span><span class="s">"http://repos.example.org/resultset/4711/4611"</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;nav:prev</span> <span class="na">href=</span><span class="s">"http://repos.example.org/resultset/4711/4610"</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;nav:next</span> <span class="na">href=</span><span class="s">"http://repos.example.org/resultset/4711/4612"</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;/nav:navigation&gt;</span>

  <span class="c">&lt;!--
      Example 2: a hypothetical Endpoint extension for directly referencing parent
      resources: it basically provides a link to the parent resource that can be
      exploited by a GUI (e.g. build on XSLT/XQuery).
  --&gt;</span>
  <span class="nt">&lt;parent:Parent</span> <span class="na">xmlns:parent=</span><span class="s">"http://repos.example.org/parent"</span>
                 <span class="na">ref=</span><span class="s">"http://repos.example.org/path/to/parent/1235.cmdi"</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;/fcs:Resource&gt;</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_endpoint_highlight_hints_for_repositories">B.4. Endpoint highlight hints for repositories</h3>
<div class="paragraph">
<p>An Aggregator can use the <code>@ref</code> attributes of the <code>&lt;fcs:Resource&gt;</code>, <code>&lt;fcs:ResourceFragment&gt;</code> or <code>&lt;fcs:DataView&gt;</code> elements to provide a link for the user to directly jump to the resource at a Repository. To support hit highlighting, an Endpoint can augment the URI in the <code>@ref</code> attribute with query parameters to implement hit highlighting in the Repository.</p>
</div>
<div class="paragraph">
<p>In the following example, the URI <code>http://repos.example.org/resource.cgi/&lt;pid&gt;</code> is a CGI script that displays a given resource at the Repository in HTML format and uses the <code>highlight</code> query parameter to add highlights to the resource. Of course, it&#8217;s up to the Endpoint and the Repository, if and how they implement such a feature.</p>
</div>
<div class="listingblock">
<div class="title">Example of Endpoint highlight hints for repositories</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="xml"><span class="nt">&lt;fcs:Resource</span> <span class="na">xmlns:fcs=</span><span class="s">"http://clarin.eu/fcs/resource"</span> <span class="na">pid=</span><span class="s">"http://hdl.handle.net/4711/0815"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;fcs:DataView</span> <span class="na">type=</span><span class="s">"application/x-clarin-fcs-hits+xml"</span> <span class="na">ref=</span><span class="s">"http://repos.example.org/resource.cgi/4711/0815?highlight=fox"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;hits:Result</span> <span class="na">xmlns:hits=</span><span class="s">"http://clarin.eu/fcs/dataview/hits"</span><span class="nt">&gt;</span>
      The quick brown <span class="nt">&lt;hits:Hit&gt;</span>fox<span class="nt">&lt;/hits:Hit&gt;</span> jumps over the lazy dog.
    <span class="nt">&lt;/hits:Result&gt;</span>
  <span class="nt">&lt;/fcs:DataView&gt;</span>
<span class="nt">&lt;/fcs:Resource&gt;</span></code></pre>
</div>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_changelog">Changelog</h2>
<div class="sectionbody">
<h3 id="_2023_06_12conversion_to_asciidoc_and_migration_of_specification_documents_to_github" class="discrete">2023-06-12&#8201;&#8212;&#8201;Conversion to AsciiDoc and Migration of specification documents to Github</h3>
<div class="ulist">
<ul>
<li>
<p>Convert specification documents for FCS Core 2.0, Core 1.0, DataView and AAI to AsciiDoc</p>
</li>
<li>
<p>Migrate from CLARIN Trac to <a href="https://github.com/clarin-eric/">CLARIN Github</a></p>
</li>
<li>
<p>Add Github Actions workflow to automate build process</p>
</li>
</ul>
</div>
<h3 id="_2018_09_06last_version_on_trac" class="discrete">2018-09-06&#8201;&#8212;&#8201;Last version on Trac</h3>
<div class="ulist">
<ul>
<li>
<p>Proofing, typo fixes, updated links</p>
</li>
</ul>
</div>
<h3 id="_2014_05_05data_views_specification" class="discrete">2014-05-05&#8201;&#8212;&#8201;Data Views specification</h3>
<div class="ulist">
<ul>
<li>
<p>Add full FCS Core 1.0 specification</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Version 1.0<br>
Last updated 2026-02-25 11:58:55 UTC
</div>
</div>
</body>
</html>