<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.23">
<meta name="description" content="This is a tutorial on how to develop CLARIN FCS endpoints.">
<meta name="author" content="Oliver Schonefeld, Leif-Jöran Olsson, Erik Körner">
<title>FCS 2.0 Endpoint Developer&#8217;s Tutorial</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/*! Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment the following line when using as a custom stylesheet */
/* @import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700"; */
html{font-family:sans-serif;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
b,strong{font-weight:bold}
abbr{font-size:.9em}
abbr[title]{cursor:help;border-bottom:1px dotted #dddddf;text-decoration:none}
dfn{font-style:italic}
hr{height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type=checkbox],input[type=radio]{padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,::before,::after{box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;line-height:1;position:relative;cursor:auto;-moz-tab-size:4;-o-tab-size:4;tab-size:4;word-wrap:anywhere;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ul.square{list-style-type:square}
ul.circle ul:not([class]),ul.disc ul:not([class]),ul.square ul:not([class]){list-style:inherit}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:1px solid #dedede;word-wrap:normal}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre).nobreak{word-wrap:normal}
:not(pre).nowrap{white-space:nowrap}
:not(pre).pre-wrap{white-space:pre-wrap}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;border-radius:3px;box-shadow:0 1px 0 rgba(0,0,0,.2),inset 0 0 0 .1em #fff;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin:0 auto;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child{border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:flex;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border:1px solid #e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:none;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:hsla(0,0%,100%,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details{margin-left:1.25rem}
details>summary{cursor:pointer;display:block;position:relative;line-height:1.6;margin-bottom:.625rem;outline:none;-webkit-tap-highlight-color:transparent}
details>summary::-webkit-details-marker{display:none}
details>summary::before{content:"";border:solid transparent;border-left:solid;border-width:.3em 0 .3em .5em;position:absolute;top:.5em;left:-1.25rem;transform:translateX(15%)}
details[open]>summary::before{border:solid transparent;border-top:solid;border-width:.5em .3em 0;transform:translateY(15%)}
details>summary::after{content:"";width:1.25rem;height:1em;position:absolute;top:.3em;left:-1.25rem}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class=paragraph]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6);word-wrap:anywhere}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border:1px solid #e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;border-radius:4px}
.sidebarblock{border:1px solid #dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;border-radius:4px}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:first-child,.sidebarblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child,.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{border-radius:4px;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class=highlight],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos,pre.pygments .linenos{border-right:1px solid;opacity:.35;padding-right:.5em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}
pre.pygments span.linenos{display:inline-block;margin-right:.75em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans-serif;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;font-size:.85rem;text-align:left;margin-right:0}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:1.25em;word-wrap:anywhere}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>*>tr>*{border-width:1px}
table.grid-cols>*>tr>*{border-width:0 1px}
table.grid-rows>*>tr>*{border-width:1px 0}
table.frame-all{border-width:1px}
table.frame-ends{border-width:1px 0}
table.frame-sides{border-width:0 1px}
table.frame-none>colgroup+*>:first-child>*,table.frame-sides>colgroup+*>:first-child>*{border-top-width:0}
table.frame-none>:last-child>:last-child>*,table.frame-sides>:last-child>:last-child>*{border-bottom-width:0}
table.frame-none>*>tr>:first-child,table.frame-ends>*>tr>:first-child{border-left-width:0}
table.frame-none>*>tr>:last-child,table.frame-ends>*>tr>:last-child{border-right-width:0}
table.stripes-all>*>tr,table.stripes-odd>*>tr:nth-of-type(odd),table.stripes-even>*>tr:nth-of-type(even),table.stripes-hover>*>tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
li>p:empty:only-child::before{content:"";display:inline-block}
ul.checklist>li>p:first-child{margin-left:-1em}
ul.checklist>li>p:first-child>.fa-square-o:first-child,ul.checklist>li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist>li>p:first-child>input[type=checkbox]:first-child{margin-right:.25em}
ul.inline{display:flex;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
td.hdlist2{word-wrap:anywhere}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:4px solid #fff;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active,#footnotes .footnote a:first-of-type:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);border-radius:50%;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt,summary{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,td.hdlist1,span.alt,summary{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]{border-bottom:1px dotted}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#header,#content,#footnotes,#footer{max-width:none}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media amzn-kf8,print{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
<style>
pre.rouge table td { padding: 5px; }
pre.rouge table pre { margin: 0; }
pre.rouge, pre.rouge .w {
  color: #24292f;
  background-color: #f6f8fa;
}
pre.rouge .k, pre.rouge .kd, pre.rouge .kn, pre.rouge .kp, pre.rouge .kr, pre.rouge .kt, pre.rouge .kv {
  color: #cf222e;
}
pre.rouge .gr {
  color: #f6f8fa;
}
pre.rouge .gd {
  color: #82071e;
  background-color: #ffebe9;
}
pre.rouge .nb {
  color: #953800;
}
pre.rouge .nc {
  color: #953800;
}
pre.rouge .no {
  color: #953800;
}
pre.rouge .nn {
  color: #953800;
}
pre.rouge .sr {
  color: #116329;
}
pre.rouge .na {
  color: #116329;
}
pre.rouge .nt {
  color: #116329;
}
pre.rouge .gi {
  color: #116329;
  background-color: #dafbe1;
}
pre.rouge .ges {
  font-weight: bold;
  font-style: italic;
}
pre.rouge .kc {
  color: #0550ae;
}
pre.rouge .l, pre.rouge .ld, pre.rouge .m, pre.rouge .mb, pre.rouge .mf, pre.rouge .mh, pre.rouge .mi, pre.rouge .il, pre.rouge .mo, pre.rouge .mx {
  color: #0550ae;
}
pre.rouge .sb {
  color: #0550ae;
}
pre.rouge .bp {
  color: #0550ae;
}
pre.rouge .ne {
  color: #0550ae;
}
pre.rouge .nl {
  color: #0550ae;
}
pre.rouge .py {
  color: #0550ae;
}
pre.rouge .nv, pre.rouge .vc, pre.rouge .vg, pre.rouge .vi, pre.rouge .vm {
  color: #0550ae;
}
pre.rouge .o, pre.rouge .ow {
  color: #0550ae;
}
pre.rouge .gh {
  color: #0550ae;
  font-weight: bold;
}
pre.rouge .gu {
  color: #0550ae;
  font-weight: bold;
}
pre.rouge .s, pre.rouge .sa, pre.rouge .sc, pre.rouge .dl, pre.rouge .sd, pre.rouge .s2, pre.rouge .se, pre.rouge .sh, pre.rouge .sx, pre.rouge .s1, pre.rouge .ss {
  color: #0a3069;
}
pre.rouge .nd {
  color: #8250df;
}
pre.rouge .nf, pre.rouge .fm {
  color: #8250df;
}
pre.rouge .err {
  color: #f6f8fa;
  background-color: #82071e;
}
pre.rouge .c, pre.rouge .ch, pre.rouge .cd, pre.rouge .cm, pre.rouge .cp, pre.rouge .cpf, pre.rouge .c1, pre.rouge .cs {
  color: #6e7781;
}
pre.rouge .gl {
  color: #6e7781;
}
pre.rouge .gt {
  color: #6e7781;
}
pre.rouge .ni {
  color: #24292f;
}
pre.rouge .si {
  color: #24292f;
}
pre.rouge .ge {
  color: #24292f;
  font-style: italic;
}
pre.rouge .gs {
  color: #24292f;
  font-weight: bold;
}
</style>
</head>
<body class="book">
<div id="header">
<h1>FCS 2.0 Endpoint Developer&#8217;s Tutorial</h1>
<div class="details">
<span id="author" class="author">Oliver Schonefeld</span><br>
<span id="email" class="email"><a href="mailto:schonefeld@ids-mannheim.de">schonefeld@ids-mannheim.de</a></span><br>
<span id="author2" class="author">Leif-Jöran Olsson</span><br>
<span id="email2" class="email"><a href="mailto:leif-joran.olsson@svenska.gu.se">leif-joran.olsson@svenska.gu.se</a></span><br>
<span id="author3" class="author">Erik Körner</span><br>
<span id="email3" class="email"><a href="mailto:koerner@saw-leipzig.de">koerner@saw-leipzig.de</a></span><br>
<span id="revnumber">version 1.0,</span>
<span id="revdate">2016-01</span>
</div>
<div id="toc" class="toc">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_java_fcs_sru_endpoint">1. Java FCS-SRU Endpoint</a>
<ul class="sectlevel2">
<li><a href="#_requirements">1.1. Requirements</a></li>
<li><a href="#_resources">1.2. Resources</a></li>
<li><a href="#_references">1.3. References</a></li>
<li><a href="#_typographic_and_xml_namespace_conventions">1.4. Typographic and XML Namespace conventions</a></li>
<li><a href="#_adaptation">1.5. Adaptation</a>
<ul class="sectlevel3">
<li><a href="#_srusearchenginesrusearchenginebase">1.5.1. SRUSearchEngine/SRUSearchEngineBase</a>
<ul class="sectlevel4">
<li><a href="#_initialize_the_search_engine">1.5.1.1. Initialize the search engine</a></li>
</ul>
</li>
<li><a href="#_endpointdescription">1.5.2. EndpointDescription</a></li>
<li><a href="#_endpointdescriptionparser">1.5.3. EndpointDescriptionParser</a></li>
<li><a href="#_srusearchresultset">1.5.4. SRUSearchResultSet</a></li>
<li><a href="#_sruscanresultset">1.5.5. SRUScanResultSet</a></li>
<li><a href="#_sruexplainresult">1.5.6. SRUExplainResult</a></li>
</ul>
</li>
<li><a href="#_code_examples">1.6. Code examples</a></li>
<li><a href="#_configuration">1.7. Configuration</a>
<ul class="sectlevel3">
<li><a href="#_maven">1.7.1. Maven</a></li>
<li><a href="#_endpoint">1.7.2. Endpoint</a></li>
<li><a href="#_endpointdescriptionparser_2">1.7.3. EndpointDescriptionParser</a></li>
<li><a href="#_translation_library">1.7.4. Translation library</a>
<ul class="sectlevel4">
<li><a href="#_part_of_speech_pos">1.7.4.1. Part-of-Speech (PoS)</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1">
<h2 id="_java_fcs_sru_endpoint">1. Java FCS-SRU Endpoint</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_requirements">1.1. Requirements</h3>
<div class="ulist">
<ul>
<li>
<p>Reference libraries: <a href="#ref:SRUServer">SRUServer</a>, <a href="#ref:SRUClient">SRUClient</a>, <a href="#ref:FCS-QL">FCS-QL</a> or your own selected FCS 2.0 and
SRU 2.0 compatible libraries.</p>
</li>
<li>
<p>Endpoint reference library: <a href="#ref:FCSSimpleEndpoint">FCSSimpleEndpoint</a> or you own from scratch.</p>
</li>
<li>
<p>Translation library (optional)</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_resources">1.2. Resources</h3>
<div class="dlist">
<dl>
<dt class="hdlist1">Specifications</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>FCS 2.0 specification&#8201;&#8212;&#8201;<a href="#ref:CLARIN-FCSCore20">CLARIN-FCS-Core 2.0</a></p>
</li>
<li>
<p>SRU 2.0 specification&#8201;&#8212;&#8201;<a href="#ref:OASIS-SRU20">OASIS-SRU20</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">Maven dependencies</dt>
<dd>
<p>Reference libraries: <a href="#ref:SRUServer">server</a>, <a href="#ref:SRUClient">client</a>, and <a href="#ref:FCSSimpleEndpoint">endpoint</a> (simple as well as other ones). See <a href="#_configuration">Configuration</a> section.</p>
</dd>
<dt class="hdlist1">Implementations</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="http://clarin.ids-mannheim.de/downloads/clarin/DigiBibSRU-source-2016-02-08.zip" class="bare">http://clarin.ids-mannheim.de/downloads/clarin/DigiBibSRU-source-2016-02-08.zip</a></p>
</li>
<li>
<p><a href="https://github.com/clarin-eric/fcs-korp-endpoint/">Korp Endpoint</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_references">1.3. References</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><a id="ref:SRUServer"></a>SRUServer</dt>
<dd>
<p>SRU/CQL server implementation, conforming to SRU/CQL protocol version 1.1 and 1.2 and (partially) 2.0, June 2023,
<a href="https://github.com/clarin-eric/fcs-sru-server/" class="bare">https://github.com/clarin-eric/fcs-sru-server/</a></p>
</dd>
<dt class="hdlist1"><a id="ref:SRUClient"></a>SRUClient</dt>
<dd>
<p>SRU/CQL client implementation, conforming to SRU/CQL protocol version 1.1, 1.2 and (partially) 2.0, June 2023,
<a href="https://github.com/clarin-eric/fcs-sru-client/" class="bare">https://github.com/clarin-eric/fcs-sru-client/</a></p>
</dd>
<dt class="hdlist1"><a id="ref:FCS-QL"></a>FCS-QL</dt>
<dd>
<p>CLARIN-FCS Core 2.0 query language grammar and parser, June 2023,
<a href="https://github.com/clarin-eric/fcs-ql/" class="bare">https://github.com/clarin-eric/fcs-ql/</a></p>
</dd>
<dt class="hdlist1"><a id="ref:FCSSimpleEndpoint"></a>FCSSimpleEndpoint</dt>
<dd>
<p>A simple CLARIN FCS endpoint, June 2023,
<a href="https://github.com/clarin-eric/fcs-simple-endpoint/" class="bare">https://github.com/clarin-eric/fcs-simple-endpoint/</a></p>
</dd>
<dt class="hdlist1"><a id="ref:FCSAggregator"></a>FCSAggregator</dt>
<dd>
<p>Federated Content Search Aggregator, June 2023,
<a href="https://github.com/clarin-eric/fcs-sur-aggregator/" class="bare">https://github.com/clarin-eric/fcs-sur-aggregator/</a>,
<a href="https://contentsearch.clarin.eu/" class="bare">https://contentsearch.clarin.eu/</a></p>
</dd>
<dt class="hdlist1"><a id="ref:CLARIN-FCSCore20"></a>CLARIN-FCS-Core 2.0</dt>
<dd>
<p>CLARIN Federated Content Search (CLARIN-FCS) - Core 2.0, SCCTC FCS Task-Force, June 2023,
<a href="https://office.clarin.eu/v/CE-2017-1046-FCS-Specification-v20230426.pdf">PDF</a>,
<a href="https://github.com/clarin-eric/fcs-misc/tree/main/fcs-core-2.0">sources (asciidoc, examples, xml schema)</a></p>
</dd>
<dt class="hdlist1"><a id="ref:OASIS-SRU20"></a>OASIS-SRU20</dt>
<dd>
<p>searchRetrieve: Part 3. SRU searchRetrieve Operation: APD Binding for SRU 2.0 Version 1.0, OASIS, January 2013,
<a href="http://www.loc.gov/standards/sru/sru-2-0.html" class="bare">http://www.loc.gov/standards/sru/sru-2-0.html</a>,
<a href="http://docs.oasis-open.org/search-ws/searchRetrieve/v1.0/os/part3-sru2.0/searchRetrieve-v1.0-os-part3-sru2.0.doc" class="bare">http://docs.oasis-open.org/search-ws/searchRetrieve/v1.0/os/part3-sru2.0/searchRetrieve-v1.0-os-part3-sru2.0.doc</a>
<a href="http://docs.oasis-open.org/search-ws/searchRetrieve/v1.0/os/part3-sru2.0/searchRetrieve-v1.0-os-part3-sru2.0.html">(HTML)</a>,
<a href="http://docs.oasis-open.org/search-ws/searchRetrieve/v1.0/os/part3-sru2.0/searchRetrieve-v1.0-os-part3-sru2.0.pdf">(PDF)</a></p>
</dd>
<dt class="hdlist1"><a id="ref:UD-POS"></a>UD-POS</dt>
<dd>
<p>Universal Dependencies, Universal POS tags v2.0,
<a href="https://universaldependencies.github.io/u/pos/index.html" class="bare">https://universaldependencies.github.io/u/pos/index.html</a></p>
</dd>
<dt class="hdlist1"><a id="ref:SAMPA"></a>SAMPA</dt>
<dd>
<p>Dafydd Gibbon, Inge Mertins, Roger Moore (Eds.): Handbook of Multimodal and Spoken Language Systems. Resources, Terminology and Product Evaluation, Kluwer Academic Publishers, Boston MA, 2000, ISBN 0-7923-7904-7</p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_typographic_and_xml_namespace_conventions">1.4. Typographic and XML Namespace conventions</h3>
<div class="paragraph">
<p>The following typographic conventions for XML fragments will be used throughout this specification:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>&lt;prefix:Element&gt;</code></p>
<div class="paragraph">
<p>An XML element with the Generic Identifier <em>Element</em> that is bound to an XML namespace denoted by the prefix <em>prefix</em>.</p>
</div>
</li>
<li>
<p><code>@attr</code></p>
<div class="paragraph">
<p>An XML attribute with the name <em>attr</em>.</p>
</div>
</li>
<li>
<p><code>string</code></p>
<div class="paragraph">
<p>The literal <em>string</em> must be used either as element content or attribute value.</p>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_adaptation">1.5. Adaptation</h3>
<div class="paragraph">
<p>The easiest way to get started is to adapt the <a href="#ref:FCSSimpleEndpoint">FCSSimpleEndpoint</a>.</p>
</div>
<div class="sect3">
<h4 id="_srusearchenginesrusearchenginebase">1.5.1. SRUSearchEngine/SRUSearchEngineBase</h4>
<div class="paragraph">
<p>By extending the <code>SimpleEndpointSearchEngineBase</code>, or if it suits your search engine&#8217;s needs better
the <code>SRUSearchEngineBase</code> directly, you adapt the behaviour to your search engine. A few notes:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>do not override <code>init()</code> use <code>doInit()</code>.</p>
</li>
<li>
<p>If you need to do cleanup do not override <code>destroy()</code> use <code>doDestroy()</code>.</p>
</li>
<li>
<p>Implementing the scan method is optional. If you want to provide custom scan behavior for a different index, override the <code>doScan()</code> method.</p>
</li>
<li>
<p>Implementing the explain method is optional. Only needed if you need to fill  <code>writeExtraResponseData</code> block of the SRU response. The implementation of this method must be thread-safe. The <code>SimpleEndpointSearchEngineBase</code> implementation has a on request parameter only response of <code>SRUExplainResult</code> with diagnostics.</p>
</li>
</ul>
</div>
<div class="sect4">
<h5 id="_initialize_the_search_engine">1.5.1.1. Initialize the search engine</h5>
<div class="paragraph">
<p>The initialization should be tailored towards your environment and needs. You need to provide the context (<code>ServletContext</code>), config (<code>SRUServerConfig</code>) and a query parser builder <code>SRUQueryParserRegistry.Builder</code> if you want to register additional query parsers. In addition you can provide parameters gathered from servlet configuration and the servlet context.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_endpointdescription">1.5.2. EndpointDescription</h4>
<div class="paragraph">
<p><code>SimpleEndpointDescription</code> is an implementtion of an endpoint description that is initialized from static information supplied at construction time. You will probably use the <code>SimpleEndpointDescriptionParser</code> to provide the endpoint description, but you can generate the list of resource info records in any way suitable to your situation. Though probably this is not the first behaviour you need to adapt since it supports both URL or w3 Document instantiation.</p>
</div>
</div>
<div class="sect3">
<h4 id="_endpointdescriptionparser">1.5.3. EndpointDescriptionParser</h4>
<div class="paragraph">
<p>The <code>SimpleEndpointDescriptionParser</code> is able to do the heavy lifting for you by parsing and extracting the information from the endpoint description including everything needed for basic and required FCS 2.0 features like capabilities, supported layers and dataviews, resource enumeration etc. It also already provide simpe consistency checks like checking unique IDs and that the declared capabilities and dataviews match. See <a href="#_configuration">Configuration</a> section for further details.</p>
</div>
</div>
<div class="sect3">
<h4 id="_srusearchresultset">1.5.4. SRUSearchResultSet</h4>
<div class="paragraph">
<p>This class needs to be implemented to support your search engine&#8217;s behaviour. Implement these methods:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>writeRecord()</code>,</p>
</li>
<li>
<p><code>getResultCountPrecision()</code>,</p>
</li>
<li>
<p><code>getRecordIdentifier()</code>,</p>
</li>
<li>
<p><code>nextRecord()</code>,</p>
</li>
<li>
<p><code>getRecordSchemaIdentifier()</code>,</p>
</li>
<li>
<p><code>getRecordCount()</code>, and</p>
</li>
<li>
<p><code>getTotalRecordCount()</code>.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_sruscanresultset">1.5.5. SRUScanResultSet</h4>
<div class="paragraph">
<p>This class needs to be implemented to support your search engine&#8217;s beahviour. Implement these methods:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>getWhereInList()</code>,</p>
</li>
<li>
<p><code>getNumberOfRecords()</code>,</p>
</li>
<li>
<p><code>getDisplayTerm()</code>,</p>
</li>
<li>
<p><code>getValue()</code>, and</p>
</li>
<li>
<p><code>getNextTerm()</code>.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_sruexplainresult">1.5.6. SRUExplainResult</h4>
<div class="paragraph">
<p>This class needs to be implemented to support your search engine&#8217;s data source.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_code_examples">1.6. Code examples</h3>
<div class="paragraph">
<p>In this section the most probable classes or methods to override or implement are walked through with code examples from one or more of the reference implementations.</p>
</div>
<div class="listingblock">
<div class="title">Extract FCS-QL query from request</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="k">if</span> <span class="o">(</span><span class="n">request</span><span class="o">.</span><span class="na">isQueryType</span><span class="o">(</span><span class="nc">Constants</span><span class="o">.</span><span class="na">FCS_QUERY_TYPE_FCS</span><span class="o">))</span> <span class="o">{</span>
    <span class="cm">/*
     * Got a FCS query (SRU 2.0).
     * Translate to a proper Lucene query
     */</span>
    <span class="kd">final</span> <span class="nc">FCSQueryParser</span><span class="o">.</span><span class="na">FCSQuery</span> <span class="n">q</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="na">getQuery</span><span class="o">(</span><span class="nc">FCSQueryParser</span><span class="o">.</span><span class="na">FCSQuery</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
    <span class="n">query</span> <span class="o">=</span> <span class="n">makeSpanQueryFromFCS</span><span class="o">(</span><span class="n">q</span><span class="o">);</span>
<span class="o">}</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Translate FCS-QL query to <code>SpanTermQuery</code></div>
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="kd">private</span> <span class="nc">SpanQuery</span> <span class="nf">makeSpanQueryFromFCS</span><span class="o">(</span><span class="nc">FCSQueryParser</span><span class="o">.</span><span class="na">FCSQuery</span> <span class="n">query</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">SRUException</span> <span class="o">{</span>
    <span class="nc">QueryNode</span> <span class="n">tree</span> <span class="o">=</span> <span class="n">query</span><span class="o">.</span><span class="na">getParsedQuery</span><span class="o">();</span>
    <span class="n">logger</span><span class="o">.</span><span class="na">debug</span><span class="o">(</span><span class="s">"FCS-Query: {}"</span><span class="o">,</span> <span class="n">tree</span><span class="o">.</span><span class="na">toString</span><span class="o">());</span>
    <span class="c1">// crude query translator</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">tree</span> <span class="k">instanceof</span> <span class="nc">QuerySegment</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">QuerySegment</span> <span class="n">segment</span> <span class="o">=</span> <span class="o">(</span><span class="nc">QuerySegment</span><span class="o">)</span> <span class="n">tree</span><span class="o">;</span>
        <span class="k">if</span> <span class="o">((</span><span class="n">segment</span><span class="o">.</span><span class="na">getMinOccurs</span><span class="o">()</span> <span class="o">==</span> <span class="mi">1</span><span class="o">)</span> <span class="o">&amp;&amp;</span> <span class="o">(</span><span class="n">segment</span><span class="o">.</span><span class="na">getMaxOccurs</span><span class="o">()</span> <span class="o">==</span> <span class="mi">1</span><span class="o">))</span> <span class="o">{</span>
            <span class="nc">QueryNode</span> <span class="n">child</span> <span class="o">=</span> <span class="n">segment</span><span class="o">.</span><span class="na">getExpression</span><span class="o">();</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">child</span> <span class="k">instanceof</span> <span class="nc">Expression</span><span class="o">)</span> <span class="o">{</span>
                <span class="nc">Expression</span> <span class="n">expression</span> <span class="o">=</span> <span class="o">(</span><span class="nc">Expression</span><span class="o">)</span> <span class="n">child</span><span class="o">;</span>
                <span class="k">if</span> <span class="o">(</span><span class="n">expression</span><span class="o">.</span><span class="na">getLayerIdentifier</span><span class="o">().</span><span class="na">equals</span><span class="o">(</span><span class="s">"text"</span><span class="o">)</span> <span class="o">&amp;&amp;</span>
                        <span class="o">(</span><span class="n">expression</span><span class="o">.</span><span class="na">getLayerQualifier</span><span class="o">()</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span> <span class="o">&amp;&amp;</span>
                        <span class="o">(</span><span class="n">expression</span><span class="o">.</span><span class="na">getOperator</span><span class="o">()</span> <span class="o">==</span> <span class="nc">Operator</span><span class="o">.</span><span class="na">EQUALS</span><span class="o">)</span> <span class="o">&amp;&amp;</span>
                        <span class="o">(</span><span class="n">expression</span><span class="o">.</span><span class="na">getRegexFlags</span><span class="o">()</span> <span class="o">==</span> <span class="kc">null</span><span class="o">))</span> <span class="o">{</span>
                    <span class="k">return</span> <span class="k">new</span> <span class="nf">SpanTermQuery</span><span class="o">(</span><span class="k">new</span> <span class="nc">Term</span><span class="o">(</span><span class="s">"text"</span><span class="o">,</span> <span class="n">expression</span><span class="o">.</span><span class="na">getRegexValue</span><span class="o">().</span><span class="na">toLowerCase</span><span class="o">()));</span>
                <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
                    <span class="k">throw</span> <span class="k">new</span> <span class="nf">SRUException</span><span class="o">(</span>
                            <span class="nc">Constants</span><span class="o">.</span><span class="na">FCS_DIAGNOSTIC_GENERAL_QUERY_TOO_COMPLEX_CANNOT_PERFORM_QUERY</span><span class="o">,</span>
                            <span class="s">"Endpoint only supports 'text' layer, the '=' operator and no regex flags"</span><span class="o">);</span>
                <span class="o">}</span>
            <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
                <span class="k">throw</span> <span class="k">new</span> <span class="nf">SRUException</span><span class="o">(</span>
                        <span class="nc">Constants</span><span class="o">.</span><span class="na">FCS_DIAGNOSTIC_GENERAL_QUERY_TOO_COMPLEX_CANNOT_PERFORM_QUERY</span><span class="o">,</span>
                        <span class="s">"Endpoint only supports simple expressions"</span><span class="o">);</span>
            <span class="o">}</span>
        <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
            <span class="k">throw</span> <span class="k">new</span> <span class="nf">SRUException</span><span class="o">(</span>
                    <span class="nc">Constants</span><span class="o">.</span><span class="na">FCS_DIAGNOSTIC_GENERAL_QUERY_TOO_COMPLEX_CANNOT_PERFORM_QUERY</span><span class="o">,</span>
                    <span class="s">"Endpoint only supports default occurances in segments"</span><span class="o">);</span>
        <span class="o">}</span>
    <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
        <span class="k">throw</span> <span class="k">new</span> <span class="nf">SRUException</span><span class="o">(</span>
                <span class="nc">Constants</span><span class="o">.</span><span class="na">FCS_DIAGNOSTIC_GENERAL_QUERY_TOO_COMPLEX_CANNOT_PERFORM_QUERY</span><span class="o">,</span>
                <span class="s">"Endpoint only supports single segment queries"</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Serialize a single XML record as Data Views</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="nd">@Override</span>
<span class="kd">public</span> <span class="kt">void</span> <span class="nf">writeRecord</span><span class="o">(</span><span class="nc">XMLStreamWriter</span> <span class="n">writer</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">XMLStreamException</span> <span class="o">{</span>
    <span class="nc">XMLStreamWriterHelper</span><span class="o">.</span><span class="na">writeStartResource</span><span class="o">(</span><span class="n">writer</span><span class="o">,</span> <span class="n">idno</span><span class="o">,</span> <span class="kc">null</span><span class="o">);</span>
    <span class="nc">XMLStreamWriterHelper</span><span class="o">.</span><span class="na">writeStartResourceFragment</span><span class="o">(</span><span class="n">writer</span><span class="o">,</span> <span class="kc">null</span><span class="o">,</span> <span class="kc">null</span><span class="o">);</span>
    <span class="cm">/*
        * NOTE: use only AdvancedDataViewWriter, even if we are only doing
        * legacy/simple FCS.
        * The AdvancedDataViewWriter instance could also be
        * reused, by calling reset(), if it was used in a smarter fashion.
        */</span>
    <span class="nc">AdvancedDataViewWriter</span> <span class="n">helper</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">AdvancedDataViewWriter</span><span class="o">(</span><span class="nc">AdvancedDataViewWriter</span><span class="o">.</span><span class="na">Unit</span><span class="o">.</span><span class="na">ITEM</span><span class="o">);</span>
    <span class="no">URI</span> <span class="n">layerId</span> <span class="o">=</span> <span class="no">URI</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="s">"http://endpoint.example.org/Layers/orth1"</span><span class="o">);</span>
    <span class="nc">String</span><span class="o">[]</span> <span class="n">words</span><span class="o">;</span>
    <span class="kt">long</span> <span class="n">start</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span>
    <span class="k">if</span> <span class="o">((</span><span class="n">left</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="n">left</span><span class="o">.</span><span class="na">isEmpty</span><span class="o">())</span> <span class="o">{</span>
        <span class="n">words</span> <span class="o">=</span> <span class="n">left</span><span class="o">.</span><span class="na">split</span><span class="o">(</span><span class="s">"\\s+"</span><span class="o">);</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">words</span><span class="o">.</span><span class="na">length</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
            <span class="kt">long</span> <span class="n">end</span> <span class="o">=</span> <span class="n">start</span> <span class="o">+</span> <span class="n">words</span><span class="o">[</span><span class="n">i</span><span class="o">].</span><span class="na">length</span><span class="o">();</span>
            <span class="n">helper</span><span class="o">.</span><span class="na">addSpan</span><span class="o">(</span><span class="n">layerId</span><span class="o">,</span> <span class="n">start</span><span class="o">,</span> <span class="n">end</span><span class="o">,</span> <span class="n">words</span><span class="o">[</span><span class="n">i</span><span class="o">]);</span>
            <span class="n">start</span> <span class="o">=</span> <span class="n">end</span> <span class="o">+</span> <span class="mi">1</span><span class="o">;</span>
        <span class="o">}</span>
    <span class="o">}</span>
    <span class="n">words</span> <span class="o">=</span> <span class="n">keyword</span><span class="o">.</span><span class="na">split</span><span class="o">(</span><span class="s">"\\s+"</span><span class="o">);</span>
    <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">words</span><span class="o">.</span><span class="na">length</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
        <span class="kt">long</span> <span class="n">end</span> <span class="o">=</span> <span class="n">start</span> <span class="o">+</span> <span class="n">words</span><span class="o">[</span><span class="n">i</span><span class="o">].</span><span class="na">length</span><span class="o">();</span>
        <span class="n">helper</span><span class="o">.</span><span class="na">addSpan</span><span class="o">(</span><span class="n">layerId</span><span class="o">,</span> <span class="n">start</span><span class="o">,</span> <span class="n">end</span><span class="o">,</span> <span class="n">words</span><span class="o">[</span><span class="n">i</span><span class="o">],</span> <span class="mi">1</span><span class="o">);</span>
        <span class="n">start</span> <span class="o">=</span> <span class="n">end</span> <span class="o">+</span> <span class="mi">1</span><span class="o">;</span>
    <span class="o">}</span>
    <span class="k">if</span> <span class="o">((</span><span class="n">right</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="n">right</span><span class="o">.</span><span class="na">isEmpty</span><span class="o">())</span> <span class="o">{</span>
        <span class="n">words</span> <span class="o">=</span> <span class="n">right</span><span class="o">.</span><span class="na">split</span><span class="o">(</span><span class="s">"\\s+"</span><span class="o">);</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">words</span><span class="o">.</span><span class="na">length</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
            <span class="kt">long</span> <span class="n">end</span> <span class="o">=</span> <span class="n">start</span> <span class="o">+</span> <span class="n">words</span><span class="o">[</span><span class="n">i</span><span class="o">].</span><span class="na">length</span><span class="o">();</span>
            <span class="n">helper</span><span class="o">.</span><span class="na">addSpan</span><span class="o">(</span><span class="n">layerId</span><span class="o">,</span> <span class="n">start</span><span class="o">,</span> <span class="n">end</span><span class="o">,</span> <span class="n">words</span><span class="o">[</span><span class="n">i</span><span class="o">]);</span>
            <span class="n">start</span> <span class="o">=</span> <span class="n">end</span> <span class="o">+</span> <span class="mi">1</span><span class="o">;</span>
        <span class="o">}</span>
    <span class="o">}</span>
    <span class="n">helper</span><span class="o">.</span><span class="na">writeHitsDataView</span><span class="o">(</span><span class="n">writer</span><span class="o">,</span> <span class="n">layerId</span><span class="o">);</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">advancedFCS</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">helper</span><span class="o">.</span><span class="na">writeAdvancedDataView</span><span class="o">(</span><span class="n">writer</span><span class="o">);</span>
    <span class="o">}</span>
    <span class="nc">XMLStreamWriterHelper</span><span class="o">.</span><span class="na">writeEndResourceFragment</span><span class="o">(</span><span class="n">writer</span><span class="o">);</span>
    <span class="nc">XMLStreamWriterHelper</span><span class="o">.</span><span class="na">writeEndResource</span><span class="o">(</span><span class="n">writer</span><span class="o">);</span>
<span class="o">}</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_configuration">1.7. Configuration</h3>
<div class="sect3">
<h4 id="_maven">1.7.1. Maven</h4>
<div class="paragraph">
<p>To include <a href="#ref:FCSSimpleEndpoint">FCSSimpleEndpoint</a> these are the dependencies:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="xml"><span class="nt">&lt;dependencies&gt;</span>
  <span class="nt">&lt;dependency&gt;</span>
    <span class="nt">&lt;groupId&gt;</span>eu.clarin.sru.fcs<span class="nt">&lt;/groupId&gt;</span>
    <span class="nt">&lt;artifactId&gt;</span>fcs-simple-endpoint<span class="nt">&lt;/artifactId&gt;</span>
    <span class="nt">&lt;version&gt;</span>1.3.0<span class="nt">&lt;/version&gt;</span>
  <span class="nt">&lt;/dependency&gt;</span>
  <span class="nt">&lt;dependency&gt;</span>
    <span class="nt">&lt;groupId&gt;</span>javax.servlet<span class="nt">&lt;/groupId&gt;</span>
    <span class="nt">&lt;artifactId&gt;</span>servlet-api<span class="nt">&lt;/artifactId&gt;</span>
    <span class="nt">&lt;version&gt;</span>2.5<span class="nt">&lt;/version&gt;</span>
    <span class="nt">&lt;type&gt;</span>jar<span class="nt">&lt;/type&gt;</span>
    <span class="nt">&lt;scope&gt;</span>provided<span class="nt">&lt;/scope&gt;</span>
  <span class="nt">&lt;/dependency&gt;</span>
<span class="nt">&lt;/dependencies&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The version is currently <code>1.4-SNAPSHOT</code> if you want and enable the Clarin snapshots repository.</p>
</div>
</div>
<div class="sect3">
<h4 id="_endpoint">1.7.2. Endpoint</h4>
<div class="paragraph">
<p>To enable SRU 2.0 which is required for FCS 2.0 functionality you need to provide the following
initialization parameters to the servlet context:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="xml"><span class="nt">&lt;init-param&gt;</span>
    <span class="nt">&lt;param-name&gt;</span>eu.clarin.sru.server.sruSupportedVersionMax<span class="nt">&lt;/param-name&gt;</span>
    <span class="nt">&lt;param-value&gt;</span>2.0<span class="nt">&lt;/param-value&gt;</span>
<span class="nt">&lt;/init-param&gt;</span>
<span class="nt">&lt;init-param&gt;</span>
    <span class="nt">&lt;param-name&gt;</span>eu.clarin.sru.server.legacyNamespaceMode<span class="nt">&lt;/param-name&gt;</span>
    <span class="nt">&lt;param-value&gt;</span>loc<span class="nt">&lt;/param-value&gt;</span>
<span class="nt">&lt;/init-param&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The endpoint configurations consists of the already mentionend context (<code>ServletContext</code>), a config (<code>SRUServerConfig</code>) and if you want further query parsers (<code>SRUQueryParserRegistry.Builder</code>). Also additional parameters gathered from servlet configuration and the servlet context are available.</p>
</div>
</div>
<div class="sect3">
<h4 id="_endpointdescriptionparser_2">1.7.3. EndpointDescriptionParser</h4>
<div class="paragraph">
<p>You probably start out using the provided <code>EndpointdescriptionParser</code>. It will parse and make available what is required and also do some sanity checkning.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>Capabilities</code>, <em>basic search</em> capability is required and <em>advanced search</em> is available for FCS 2.0, checks that any given capability is encoded as a proper URI and that the IDs are unique.</p>
</li>
<li>
<p>Supported Data views, checks  that <code>&lt;SupportedDataView&gt;</code> elements have:</p>
<div class="openblock">
<div class="content">
<div class="ulist">
<ul>
<li>
<p>a proper <code>@id</code> attribute and that the value is unique.</p>
</li>
<li>
<p>a <code>@delivery-policy</code> attribute, e.g. <code>DeliveryPolicy.SEND_BY_DEFAULT</code>, <code>DeliveryPolicy.NEED_TO_REQUEST</code>.</p>
</li>
<li>
<p>a child text node with a MIME-type as its content, e.g. for <em>basics search (hits)</em>: <code>application/x-clarin-fcs-hits+xml</code> and for <em>advanced search</em>: <code>application/x-clarin-fcs-adv+xml</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="paragraph">
<p>Sample: <code>&lt;SupportedDataView id="adv" delivery-policy="send-by-default"&gt;application/x-clarin-fcs-adv+xml&lt;/SupportedDataView&gt;</code></p>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Makes sure capabilities and declared dataviews actually match otherwise it will warn you.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Supported Layers, checks that <code>&lt;SupportedLayer&gt;</code> elements have:</p>
<div class="ulist">
<ul>
<li>
<p>a proper <code>@id</code> attribute and that the value is unique.</p>
</li>
<li>
<p>a proper <code>@result-id</code> attribute and that is is encoded as a proper URI, and that the child text node is "text", "lemma", "pos", "orth", "norm", "phonetic", or other value starting with "x-".</p>
</li>
<li>
<p>if a <code>@alt-value-info-uri</code> attribute that is encoded as proper URI, e.g. tag description</p>
</li>
<li>
<p>if <em>advanced search</em> is given in capabilities that it is also available.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Resources, checks that some resources are actually defined, and have:</p>
<div class="ulist">
<ul>
<li>
<p>a proper <code>@xml:lang</code> attribute on its <code>&lt;Description&gt;</code> elelement.</p>
</li>
<li>
<p>a child <code>&lt;LandingPageURI&gt;</code> element</p>
</li>
<li>
<p>a child <code>&lt;Language&gt;</code> element and that is must use ISO-639-3 three letter language codes</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_translation_library">1.7.4. Translation library</h4>
<div class="paragraph">
<p>For the current version of the translation library a mapping for <a href="#ref:UD-POS">UD-17</a> to your used word classes for the word class layer is needed. It currently also does <a href="#ref:SAMPA">X-SAMPA</a> conversion for the phonetic layer. The mappings are specified in one configuration file, an XML document. This will mostly be 1-to-1, but might require lossy translation either way. To guide you in this we walk through configuration and mapping examples from the reference implemetations.</p>
</div>
<div class="sect4">
<h5 id="_part_of_speech_pos">1.7.4.1. Part-of-Speech (PoS)</h5>
<div class="paragraph">
<p>The PoS translation configuration is expressed in a TranslationTable element with the attributes <code>@fromResourceLayer</code>, <code>@toResourceLayer</code> and <code>@translationType</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="xml"><span class="c">&lt;!-- ... --&gt;</span>
<span class="nt">&lt;TranslationTable</span> <span class="na">fromResourceLayer=</span><span class="s">"FCSAggregator/PoS"</span> <span class="na">toResourceLayer=</span><span class="s">"Korp/PoS"</span> <span class="na">translationType=</span><span class="s">"replaceWhole"</span><span class="nt">&gt;</span>
<span class="c">&lt;!-- ... --&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><code>@translationType</code> is currently a closed set of two values, but could be extended by any definition on how to replace something in to. The values are <em>replaceWhole</em> and <em>replaceSegments</em>, but <em>replaceSegments</em> require further defintions of trellis segment translations which will not be
addressed by this tutorial.</p>
</div>
<div class="paragraph">
<p>The values of <code>@fromResourceLayer</code> and <code>@toResourceLayer</code> only depends on these being declared
by <code>&lt;ResourceLayer&gt;</code> elements under <code>/&lt;AnnotationTranslation&gt;/&lt;Resources&gt;</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="xml"><span class="nt">&lt;ResourceLayer</span> <span class="na">resource=</span><span class="s">"FCSAggregator"</span> <span class="na">layer=</span><span class="s">"phonetic"</span> <span class="na">formalism=</span><span class="s">"X-SAMPA"</span> <span class="nt">/&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The attributes of <code>&lt;ResourceLayer&gt;</code> are <code>@resource</code>, <code>@layer</code> and <code>@formalism</code>. The value of <code>@layer</code> is (most easily) the identifier which is used for the layer in the FCS 2.0 specification. <code>@formalism</code> is (most easily) the namespace value prefix or an URI. E.g. for PoS this can be <em>SUC-PoS</em> for the
already mentionend SUC PoS tagset, <em>CGN</em> or <em>UD-17</em>. These tag sets often also includes morphosyntactic descriptions <em>MSD</em> in its original form, but since MSD is not part of the FCS 2.0 specification we are only dealing with the PoS tags here.</p>
</div>
<div class="paragraph">
<p>Going from UD-17&#8217;s <em>VERB</em> tag to Stockholm Umeå Corpus (SUC) Part-of-Speech you get two tags
VB and PC:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="xml">      <span class="nt">&lt;Pair</span> <span class="na">from=</span><span class="s">"VERB"</span>   <span class="na">to=</span><span class="s">"VB"</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;Pair</span> <span class="na">from=</span><span class="s">"VERB"</span>   <span class="na">to=</span><span class="s">"PC"</span> <span class="nt">/&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Adding the translation of the UD-17 AUX tag which gives VB in SUC-PoS too, but this is a 1-to-1 translation this way.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="xml">      <span class="nt">&lt;Pair</span> <span class="na">from=</span><span class="s">"AUX"</span>    <span class="na">to=</span><span class="s">"VB"</span> <span class="nt">/&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>As you can see from this the precision is varying and could become too bad to be useful going both ways from the <a href="#ref:FCSAggregator">FCSAggregator</a> to the endpoint and then back. For this you can use the available alerting methods given in the FCS 2.0 specification.</p>
</div>
<div class="paragraph">
<p>With non-1-to-1 translations you need to know how alternatives are expressed in the endpoints query language. This is where the not yet available conversion library would use the translation library adding rule-based knowledge on how to translate to e.g. CQP <code>[pos = "VB" | pos = "PC"]</code>.</p>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Version 1.0<br>
Last updated 2025-06-24 13:20:12 UTC
</div>
</div>
</body>
</html>