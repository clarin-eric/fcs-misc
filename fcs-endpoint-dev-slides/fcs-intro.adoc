= Introducing the Federated Content Search (FCS)

[.notes]
--
* Description, History & Glossary
--


== What is the FCS?

* ‚ÄúFederated Content Search‚Äù at https://www.clarin.eu/content/content-search[CLARIN]
+
In short: Content Search over _Distributed Resources_
+
Also: Federated ‚ÄúCorpus Query Platform‚Äù
* _Search for patterns in distributed text collections_
* No central index!
* Text resources include annotated corpora, full texts etc.
* FCS = interface specification, search infrastructure and software ecosystem
* Usage of _established standards_ and _extensibility_!


[.left]
== What is included in the FCS?

*Interface Spezification*

* Description of search protocol (query languages, formats and communication channels) +
‚Äúfor homogeneous access to heterogeneous search engines‚Äù
* RESTful protocol

[%step]
--
*Search Infrastruktur in CLARIN and Text+*

* Central client (search result ‚ÄúAggregator‚Äù and web portal)
* Decentralized endpoints at the data centers (local search eninges on resources)
--


ifdef::backend-revealjs[]
[.left]
== What is included in the FCS? (2)
endif::[]

*Software Ecosystem primarily in Java*

* Libraries (Java, Python, ‚Ä¶)
* Tools (Validator, Aggregator, Registry)


== Requirements for participation in the FCS

* (Own) text resources
* ‚ÄúSearch engine‚Äù on those text resources
** Minimum: full text search
* Deployment of publicly accessible FCS endpoint(s)


[.columns]
== Pros and Cons for the FCS (as Infrastructure)

[.column]
--
*Pros*

* Integration of many resources, linking and comparison of results
* Integration with other tools (Weblicht, Registry/VLO, Switchboard, ‚Ä¶)
* Same queries, formats, result presentation
* No duplicate data storage, inconsistency
--
[.column]
--
*Cons*

* No control over resources
* No deterministic results (e.g. links for publications)
* No global ranking of results possible
--


[.columns]
== Pros and Cons for FCS Endpoints (Operators)

[.column]
--
*Pros*

* Control over resources and search (ranking, fuzzy, ‚Ä¶)
* No duplication of data due to central index
* Increased visibility in a larger resource catalog
--
[.column]
--
*Cons*

* Deployment of (additional) endpoint necessary
--


== Comparison of FCS with Central Index

[%noheader,cols="h,3,3"]
|===
|Data
|‚ûï At the endpoints
|‚ûñ Duplicate data storage, possible inconsistency (age, updates); legally no transfer may be possible

|Updates to Data
|‚ûï Endpoints can react quickly
|‚ûñ Difficult, e.g. removal of resources in the event of legal problems; updates entail longer delays, if at all possible

ifdef::backend-revealjs[]
|===


== Comparison of FCS with Central Index (2)

[%noheader,cols="h,3,3"]
|===
endif::[]

|Global Ranking
|‚ûñ Very difficult/impossible
|‚ûï Quite possible (?), probably implicit assumption and normalization of data for indexing

|Faceted Search
|‚ûñ Difficult (e.g. via external metadata; not explicitly intended)
|‚ûï Indexing allows clustering/classification according to topics and categories
|===


== History

* *~ 2011* Started as Working Group in CLARIN
* *Mai 2011* https://trac.clarin.eu/wiki/Clarin%20Federated%20Search%20Demonstrator[EDC/FCS Workshop]
* *~ 2011‚Äì2013* Initial version, now named *FCS ‚ÄúLegacy‚Äù*
** SRU Scan for resources, BASIC Search (CQL/full text), KWIC
* *April 2013* https://www.clarin.eu/event/2013/federated-content-search-workshop[FCS Workshop]
* *~ 2013/2014* Code and Spec for *FCS Core 1.0*
** ``fcs-simple-endpoint:1.0.0``, ``sru-server:1.5.0``
** BASIC Hits Data View, SRU Scan operation not used anymore

[.notes]
--
* much has disappeared into the _annals of history_ ‚Ä¶
* https://github.com/clarin-eric/fcs-misc/tree/main/historical/documents 
* https://trac.clarin.eu/wiki/FederatedSearch?version=1 
* https://trac.clarin.eu/browser/FCSSimpleEndpoint/tags
* https://trac.clarin.eu/wiki/FCS/Specification?action=history
* https://trac.clarin.eu/wiki/Taskforces/FCS/FCS-Specification-Draft?action=history
* https://www.clarin.eu/event/2013/federated-content-search-workshop 
* EDC: European Demonstrator Case
--


ifdef::backend-revealjs[]
[%notitle]
== History (2)
endif::[]

* *~ 2015/2016* Spec and Code for *FCS Core 2.0*
** ``fcs-simple-endpoint:1.3.0``, ``sru-server:1.8.0``
** Advanced Data Views (FCS-QL), ‚Ä¶
* *2022* FCS is focus in Text+ (_Findability_)
* *2023* New FCS maintainer in CLARIN
** Migration of Source Code to https://github.com/clarin-eric/?q=fcs[GitHub.com], updated documentation
** Python FCS endpoint libraries
** Updated libraries & tools, rewrite of FCS Endpoint Validator


[%notitle,background-image="LexFCS_Diagram_v3.png",background-size="contain"]
== FCS Architecture


== Communication Protocol

*SRU (Search/Retrieval via URL) / OASIS searchRetrieve*

* Standardized by _Library of Congress (LoC)_ / _OASIS_
** RESTful
** *Explain*: Listing of resources
*** Languages, annotations, supported data views and formats etc.
** *SearchRetrieve*: Search request
* Data as XML
* Extensions to the protocol explicitely allowed


== Basic Assumption on the Data Structure

* different (optional) annotationa layers

[.x-small]
--
[%noheader,%autowidth,cols="h,4*"]
|===
|Full text
s|The
s|cyclists
s|are
s|fast

|Part of Speech
|DET
|NOUN
|VERB
|ADJ

|Lemmatisation
|The
|cyclist
|is
|fast

|Phonetic Transcription
|...
|...
|...
|...

|Orthographic Transcription
|...
|...
|...
|...

|[...]
| 
| 
| 
| 
|===
--


== Explain: Resource Discovery



== Explain: Resource Discovery (2)



== Explain: Resource Structure



== Query Language FCS-QL

* Based on CQP
* Supports various annotation layers

image::fcsql-query-builder.png[Visual Query Builder for FCS-QL]


//[background-image="fcs-results-hits.png",background-size="contain"]
== Visualization of Results

image::fcs-results-hits.png[HITS Results]


== Visualization of Results (2)

image::fcs-results-kwic.png[KWIC Results]


== Visualization of Results (3)

image::fcs-results-adv.png[ADV Results]


== Current state of the FCS

* Current version of the specification: *FCS Core 2.0*
* Poster at https://www.clarin.eu/sites/default/files/CLARIN2023_Bazaar_29.pdf[Bazaar @ CLARIN2023] on the current status
* üòé ‚ÄúAwesome FCS‚Äù List: https://github.com/clarin-eric/awesome-fcs[github.com/clarin-eric/awesome-fcs] 
with relevant links to specs, tools, libraries, implementations and much more
** Additions by Text+ (z.B. on LexFCS/LexCQL/Forks/Software): https://gitlab.gwdg.de/textplus/ag-fcs-documents/-/blob/main/awesome-fcs.md[gitlab.gwdg.de/textplus/ag-fcs-documents/-/blob/main/awesome-fcs.md]


ifdef::backend-revealjs[]
[%notitle]
== Current state of the FCS (2)
endif::[]

* CLARIN specifications: https://github.com/clarin-eric/fcs-misc[github.com/clarin-eric/fcs-misc] 
* Small ecosystem (Code on https://github.com/clarin-eric?q=fcs[Github]/Gitlab)
** Software libraries (SRU/FCS, endpoint + client, Java/Python)
** Aggregator (Code: https://github.com/clarin-eric/fcs-sru-aggregator[Github], https://gitlab.gwdg.de/textplus/ag-fcs-lex-fcs-aggregator[Text+ Fork])
** Online Validator for Endpunkte (https://www.clarin.eu/fcsvalidator[fcsvalidator], Code: https://github.com/clarin-eric/fcs-endpoint-tester[Github (old)], https://github.com/saw-leipzig/fcs-endpoint-validator[Github (new)])
* Endpunkte Registry: https://centres.clarin.eu/fcs[centres.clarin.eu/fcs]


== Current Work

* *Lexical Resources* extension

** First specification and implementation in Text+
** Official extension of CLARIN ‚Üí ~2024 Working Plan

[.mt-3]
* *AAI* integration

** Specification and implementation
** Goal: Support _access-restricted resources_
** Securing the aggregator via Shibboleth ‚Üí Passing on AAI attributes to endpoints
** Preliminary work from CLARIAH-DE, part of the Text+ work plan (IDS Mannheim, Uni/SAW Leipzig, preliminary work BBAW)


ifdef::backend-revealjs[]
[%notitle]
== Current Work (2)
endif::[]

[.mt-3]
* *Syntactic Search*

* *Entity Search*

* Optional metadata for each result


== Current status regarding **Lexical Resources**

* CLARIN-EU Taskforce
* CLARIN ERIC working plan: ‚Äûextending the protocol to cover additional data types (e.g. lexica) will be explored‚Äú
** on the CLARIN 2024 Working Plan
* Interest expressed from various countries
* Preliminary work: ‚ÄûRABA‚Äú (Estland): e.g. ‚ÄûEesti Wordnet‚Äú


ifdef::backend-revealjs[]
== Current status regarding **Lexical Resources**
endif::[]

* * First specification and implementation in Text+
** Specification on Zenodo: https://zenodo.org/records/7849754[zenodo.org/records/7849754]
** Presentation at eLex 2023: https://elex.link/elex2023/wp-content/uploads/69.pdf[‚ÄúA Federated Search and Retrieval Platform for Lexical Resources in Text+ and CLARIN‚Äù]
** Aggregator: https://fcs.text-plus.org/?&queryType=lex[fcs.text-plus.org/?queryType=lex]


[.left]
== Current status of participants

*CLARIN* (https://contentsearch.clarin.eu/[contentsearch.clarin.eu], https://centres.clarin.eu/fcs[Registry])

* 209 Resources (94 in Advanced)
+
in 61 Languages
+
from 20 Institutions in 12 Countries

*Text+* (https://fcs.text-plus.org/[fcs.text-plus.org])

* 53 Resources (17 in Advanced, 30 in Lexical)
+
in 6 Languages
+
from 9 Institutions in Germany


[.left]
== Integration in FCS Infrastructure

*CLARIN*

* Alpha/Beta using Side-Loading in Aggregator
* Stable/Long-Term: Entry in Centre Registry
** CLARIN Account + https://www.clarin.eu/webform/registration-form-centre-registry[Formular] as a Centre
** including monitoring etc.

*Text+*

* Side-Loading in Aggregator
* _WIP_: Registry (index of endpoints)


== Alternative Ways of using FCS

* Development of an alternative aggregator frontend as _Web Component_
** Code: https://git.saw-leipzig.de/text-plus/FCS/textplus-fcs-store[Vue.js Store] + https://git.saw-leipzig.de/text-plus/FCS/textplus-fcs-vuetify[Vuetify Component (Dialog)]; https://tppssi-demo.saw-leipzig.de/[Demo]
** Use of the https://infra.clarin.eu/apis/[Aggregator API]
** Restriction to subset of resources, e.g. for integration on own website
** Faceting, alternative visualization


== Bootstrapping Endpoint Development

* Java: Maven Archetype https://github.com/clarin-eric/fcs-endpoint-archetype[github.com/clarin-eric/fcs-endpoint-archetype] 

* Java & Python (reference implementation Korp):
** https://github.com/clarin-eric/fcs-korp-endpoint[github.com/clarin-eric/fcs-korp-endpoint]
** https://github.com/Querela/fcs-korp-endpoint-python[github.com/Querela/fcs-korp-endpoint-python]

* üòé ‚ÄúAwesome FCS‚Äù List: https://github.com/clarin-eric/awesome-fcs[github.com/clarin-eric/awesome-fcs]
** List of reference implementations, endpoints, query parsers
** Code for FCS SRU Aggregator and SRU/FCS Validator
